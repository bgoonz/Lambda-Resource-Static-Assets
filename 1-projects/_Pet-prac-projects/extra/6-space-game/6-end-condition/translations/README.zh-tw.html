<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README.zh-tw</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h1 id="å»ºç«‹å¤ªç©ºéŠæˆ²-part-6çµæŸèˆ‡é‡ä¾†">å»ºç«‹å¤ªç©ºéŠæˆ² Part 6ï¼šçµæŸèˆ‡é‡ä¾†</h1>
<h2 id="èª²å‰æ¸¬é©—">èª²å‰æ¸¬é©—</h2>
<p><a href="https://nice-beach-0fe9e9d0f.azurestaticapps.net/quiz/39?loc=zh_tw">èª²å‰æ¸¬é©—</a></p>
<p>æœ‰è¨±å¤šæ–¹å¼å¯ä»¥è¡¨é”éŠæˆ²ä¸­çš„<em>çµæŸç‹€æ…‹</em>ã€‚é€™éƒ½å–æ±ºæ–¼ä½ é€™ä½éŠæˆ²é–‹ç™¼è€…ï¼Œå®šç¾©éŠæˆ²çµæŸçš„ç†ç”±ã€‚å‡è¨­æˆ‘å€‘è¨è«–é€™æ¬¾å·²ç¶“é–‹ç™¼è¨±ä¹…çš„å¤ªç©ºéŠæˆ²ï¼Œä»¥ä¸‹æ˜¯éŠæˆ²çµæŸçš„ç†ç”±ï¼š</p>
<ul>
<li><strong><code>N</code> è‰˜æ•µè»è‰¦è‰‡è¢«æ“Šæ¯€</strong>ï¼šå¦‚æœä½ æƒ³å°‡éŠæˆ²åˆ†æˆè¨±å¤šé—œå¡ï¼Œä¸€ç¨®å¸¸è¦‹çš„æ–¹å¼æ˜¯å°‡æ¯ä¸€é—œçš„ç ´é—œé–€æª»ï¼Œå®šç‚ºæ“Šæ¯€ <code>N</code> è‰˜æ•µè»è‰¦è‰‡ã€‚</li>
<li><strong>ä½ çš„èˆ¹è‰¦å·²è¢«æ“Šæ¯€</strong>ï¼šä¸€å®šæœ‰éŠæˆ²ï¼Œåªè¦ä½ çš„èˆ¹è‰¦è¢«æ“Šæ¯€ä¸€æ¬¡æ™‚ï¼Œä¾¿åˆ¤å®šä½ è¼¸äº†é€™å ´éŠæˆ²ã€‚å¦ä¸€ç¨®å¯è¡Œæ¦‚å¿µæ˜¯åŠ å…¥ç”Ÿå‘½å€¼ç³»çµ±ã€‚æ¯æ¬¡ä½ çš„èˆ¹è‰¦è¢«æ“Šæ¯€æ™‚ï¼Œæœƒæ‰£é™¤ä¸€æ¢ç”Ÿå‘½ã€‚ä¸€ä½†ä½ æå¤±äº†æ‰€æœ‰æ€§å‘½ï¼Œä½ ä¾¿è¼¸äº†é€™å ´éŠæˆ²ã€‚</li>
<li><strong>ä½ å·²ç¶“å–å¾— <code>N</code> é»åˆ†æ•¸</strong>ï¼šå¦ä¸€ç¨®å¸¸è¦‹çš„çµæŸç‹€æ…‹ç‚ºåˆ†æ•¸é–€æª»ã€‚å–å¾—åˆ†æ•¸çš„æ©Ÿåˆ¶å–æ±ºåœ¨ä½ ï¼Œå¸¸è¦‹çš„æ¢ä»¶ç‚ºæ‘§æ¯€æ•µè‰¦ã€æˆ–æ˜¯æ”¶é›†æ•µè‰¦æ‰€<em>æ‰è½</em>çš„é“å…·ã€‚</li>
<li><strong>å®Œæˆé—œå¡</strong>ï¼šé€™æˆ–è¨±æœƒæ¶‰åŠåˆ°è¨±å¤šç¨®ç‹€æ…‹ï¼Œå¥½æ¯”èªªï¼š <code>X</code> è‰˜è‰¦è‰‡å·²è¢«æ“Šæ¯€ã€å·²å–å¾— <code>Y</code> é»åˆ†æ•¸æˆ–æ˜¯æ”¶é›†ç‰¹å®šçš„é“å…·ã€‚</li>
</ul>
<h2 id="é‡æ–°éŠæˆ²">é‡æ–°éŠæˆ²</h2>
<p>å¦‚æœç©å®¶å¾ˆäº«å—ä½ çš„éŠæˆ²ï¼Œä»–å€‘æœƒæƒ³å†é‡æ–°éŠç©ä¸€æ¬¡ã€‚ä¸€æ—¦å› ä»»ä½•åŸå› çµæŸéŠæˆ²æ™‚ï¼Œä½ æ‡‰è©²è¦æä¾›é‡æ–°éŠæˆ²çš„æ–¹æ³•ã€‚</p>
<p>âœ… æƒ³æƒ³çœ‹ï¼Œä»€éº¼æ¢ä»¶ä¸‹æœƒçµæŸä¸€æ¬¾éŠæˆ²ï¼Œè€Œå®ƒå€‘åˆæ˜¯å¦‚ä½•æç¤ºä½ é‡æ–°éŠç©ã€‚</p>
<h2 id="å»ºç«‹ç›®æ¨™">å»ºç«‹ç›®æ¨™</h2>
<p>ä½ éœ€è¦ç‚ºä½ çš„éŠæˆ²æ–°å¢é€™äº›è¦å‰‡ï¼š</p>
<ol type="1">
<li><strong>è´å¾—éŠæˆ²</strong>ã€‚ ä¸€æ—¦æ‰€æœ‰æ•µè»è‰¦è‰‡è¢«æ“Šæ¯€æ™‚ï¼Œä½ ä¾¿è´å¾—é€™å ´éŠæˆ²ã€‚è«‹é¡å¤–åœ°é¡¯ç¤ºå‹åˆ©è¨Šæ¯ã€‚</li>
<li><strong>é‡æ–°é–‹å§‹</strong>ã€‚ ä¸€æ—¦ä½ æå¤±äº†æ‰€æœ‰æ€§å‘½ï¼Œæˆ–æ˜¯è´å¾—äº†å‹åˆ©ï¼Œä½ æ‡‰è©²æä¾›æ–¹æ³•ä¾†é‡æ–°éŠæˆ²ã€‚è¨˜ä½ï¼ä½ éœ€è¦é‡æ–°åˆå§‹åŒ–ä½ çš„éŠæˆ²ï¼Œæ‰€æœ‰éŠæˆ²çš„æ­·å²ç´€éŒ„æœƒè¢«ç§»é™¤ã€‚</li>
</ol>
<h2 id="å»ºè­°æ­¥é©Ÿ">å»ºè­°æ­¥é©Ÿ</h2>
<p>åœ¨ä½ çš„ <code>your-work</code> å­è³‡æ–™å¤¾ä¸­ï¼Œç¢ºèªæª”æ¡ˆæ˜¯å¦å»ºç«‹å®Œæˆã€‚å®ƒæ‡‰è©²åŒ…æ‹¬ï¼š</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" title="1"><span class="ex">-</span><span class="kw">|</span> <span class="ex">assets</span></a>
<a class="sourceLine" id="cb1-2" title="2">  <span class="ex">-</span><span class="kw">|</span> <span class="ex">enemyShip.png</span></a>
<a class="sourceLine" id="cb1-3" title="3">  <span class="ex">-</span><span class="kw">|</span> <span class="ex">player.png</span></a>
<a class="sourceLine" id="cb1-4" title="4">  <span class="ex">-</span><span class="kw">|</span> <span class="ex">laserRed.png</span></a>
<a class="sourceLine" id="cb1-5" title="5">  <span class="ex">-</span><span class="kw">|</span> <span class="ex">life.png</span></a>
<a class="sourceLine" id="cb1-6" title="6"><span class="ex">-</span><span class="kw">|</span> <span class="ex">index.html</span></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="ex">-</span><span class="kw">|</span> <span class="ex">app.js</span></a>
<a class="sourceLine" id="cb1-8" title="8"><span class="ex">-</span><span class="kw">|</span> <span class="ex">package.json</span></a></code></pre></div>
<p>é–‹å§‹ <code>your_work</code> è³‡æ–™å¤¾ä¸­çš„å°ˆæ¡ˆï¼Œè¼¸å…¥ï¼š</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb2-1" title="1"><span class="bu">cd</span> your-work</a>
<a class="sourceLine" id="cb2-2" title="2"><span class="ex">npm</span> start</a></code></pre></div>
<p>é€™æœƒå•Ÿå‹• HTTP ä¼ºæœå™¨ä¸¦ç™¼å¸ƒç¶²å€ <code>http://localhost:5000</code>ã€‚é–‹å•Ÿç€è¦½å™¨ä¸¦è¼¸å…¥è©²ç¶²å€ã€‚ä½ çš„éŠæˆ²æ‡‰è©²èƒ½è¢«éŠç©ã€‚</p>
<blockquote>
<p>è¦é»ï¼š è¦é¿å…åœ¨ Visual Studio Code è£¡å‡ºç¾è­¦å‘Šè¨Šæ¯ï¼Œç·¨è¼¯å‡½å¼ <code>window.onload</code> ä»¥ isï¼Œè€Œé let çš„æ–¹å¼å‘¼å« <code>gameLoopId</code>ï¼›ä¸¦åœ¨æª”æ¡ˆæ­£ä¸Šæ–¹ç¨ç«‹åœ°å®£å‘Š gameLoopIdï¼š <code>let gameLoopId;</code>ã€‚</p>
</blockquote>
<h3 id="åŠ å…¥ç¨‹å¼ç¢¼">åŠ å…¥ç¨‹å¼ç¢¼</h3>
<ol type="1">
<li><p><strong>è¿½è¹¤çµæŸç‹€æ…‹</strong>ã€‚ æ–°å¢ç¨‹å¼ç¢¼ä¾†è¿½è¹¤æ•µäººçš„æ•¸é‡ï¼Œåˆ©ç”¨ä¸‹åˆ—å‡½å¼åˆ¤æ–·è‹±é›„è‰¦è‰‡æ˜¯å¦è¢«æ“Šæ¯€ï¼š</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">function</span> <span class="at">isHeroDead</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb3-2" title="2">  <span class="cf">return</span> <span class="va">hero</span>.<span class="at">life</span> <span class="op">&lt;=</span> <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="op">}</span></a>
<a class="sourceLine" id="cb3-4" title="4"></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="kw">function</span> <span class="at">isEnemiesDead</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb3-6" title="6">  <span class="kw">const</span> enemies <span class="op">=</span> <span class="va">gameObjects</span>.<span class="at">filter</span>((go) <span class="kw">=&gt;</span> <span class="va">go</span>.<span class="at">type</span> <span class="op">===</span> <span class="st">&quot;Enemy&quot;</span> <span class="op">&amp;&amp;</span> <span class="op">!</span><span class="va">go</span>.<span class="at">dead</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-7" title="7">  <span class="cf">return</span> <span class="va">enemies</span>.<span class="at">length</span> <span class="op">===</span> <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb3-8" title="8"><span class="op">}</span></a></code></pre></div></li>
<li><p><strong>åŠ å…¥è¨Šæ¯è™•ç†å™¨</strong>ã€‚ ç·¨è¼¯ <code>eventEmitter</code> ä»¥è™•ç†é€™äº›ç‹€æ…‹ï¼š</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="va">eventEmitter</span>.<span class="at">on</span>(<span class="va">Messages</span>.<span class="at">COLLISION_ENEMY_LASER</span><span class="op">,</span> (_<span class="op">,</span> <span class="op">{</span> first<span class="op">,</span> second <span class="op">}</span>) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-2" title="2">    <span class="va">first</span>.<span class="at">dead</span> <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></a>
<a class="sourceLine" id="cb4-3" title="3">    <span class="va">second</span>.<span class="at">dead</span> <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></a>
<a class="sourceLine" id="cb4-4" title="4">    <span class="va">hero</span>.<span class="at">incrementPoints</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb4-5" title="5"></a>
<a class="sourceLine" id="cb4-6" title="6">    <span class="cf">if</span> (<span class="at">isEnemiesDead</span>()) <span class="op">{</span></a>
<a class="sourceLine" id="cb4-7" title="7">      <span class="va">eventEmitter</span>.<span class="at">emit</span>(<span class="va">Messages</span>.<span class="at">GAME_END_WIN</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-8" title="8">    <span class="op">}</span></a>
<a class="sourceLine" id="cb4-9" title="9"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-10" title="10"></a>
<a class="sourceLine" id="cb4-11" title="11"><span class="va">eventEmitter</span>.<span class="at">on</span>(<span class="va">Messages</span>.<span class="at">COLLISION_ENEMY_HERO</span><span class="op">,</span> (_<span class="op">,</span> <span class="op">{</span> enemy <span class="op">}</span>) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-12" title="12">    <span class="va">enemy</span>.<span class="at">dead</span> <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></a>
<a class="sourceLine" id="cb4-13" title="13">    <span class="va">hero</span>.<span class="at">decrementLife</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb4-14" title="14">    <span class="cf">if</span> (<span class="at">isHeroDead</span>())  <span class="op">{</span></a>
<a class="sourceLine" id="cb4-15" title="15">      <span class="va">eventEmitter</span>.<span class="at">emit</span>(<span class="va">Messages</span>.<span class="at">GAME_END_LOSS</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-16" title="16">      <span class="cf">return</span><span class="op">;</span> <span class="co">// éŠæˆ²å¤±æ•—ï¼Œæå‰çµæŸ</span></a>
<a class="sourceLine" id="cb4-17" title="17">    <span class="op">}</span></a>
<a class="sourceLine" id="cb4-18" title="18">    <span class="cf">if</span> (<span class="at">isEnemiesDead</span>()) <span class="op">{</span></a>
<a class="sourceLine" id="cb4-19" title="19">      <span class="va">eventEmitter</span>.<span class="at">emit</span>(<span class="va">Messages</span>.<span class="at">GAME_END_WIN</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-20" title="20">    <span class="op">}</span></a>
<a class="sourceLine" id="cb4-21" title="21"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-22" title="22"></a>
<a class="sourceLine" id="cb4-23" title="23"><span class="va">eventEmitter</span>.<span class="at">on</span>(<span class="va">Messages</span>.<span class="at">GAME_END_WIN</span><span class="op">,</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-24" title="24">    <span class="at">endGame</span>(<span class="kw">true</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-25" title="25"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-26" title="26"></a>
<a class="sourceLine" id="cb4-27" title="27"><span class="va">eventEmitter</span>.<span class="at">on</span>(<span class="va">Messages</span>.<span class="at">GAME_END_LOSS</span><span class="op">,</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-28" title="28">  <span class="at">endGame</span>(<span class="kw">false</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-29" title="29"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div></li>
<li><p><strong>åŠ å…¥æ–°çš„è¨Šæ¯</strong>ã€‚ æ–°å¢é€™äº›è¨Šæ¯åˆ° Messages å¸¸æ•¸ä¸­ï¼š</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1">GAME_END_LOSS<span class="op">:</span> <span class="st">&quot;GAME_END_LOSS&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb5-2" title="2">GAME_END_WIN<span class="op">:</span> <span class="st">&quot;GAME_END_WIN&quot;</span><span class="op">,</span></a></code></pre></div></li>
<li><p><strong>åŠ å…¥é‡æ–°é–‹å§‹çš„åŠŸèƒ½</strong> åœ¨æŒ‰ä¸‹ç‰¹å®šæŒ‰éˆ•å¾Œï¼Œç¨‹å¼æœƒé‡æ–°é–‹å§‹éŠæˆ²ã€‚</p>
<ol type="1">
<li><strong>ç›£è½ <code>Enter</code> æŒ‰éˆ•ä¹‹æŒ‰å£“</strong>ã€‚ ç·¨è¼¯è¦–çª—çš„ eventListener ï¼Œç›£è½æŒ‰éµçš„æŒ‰å£“ï¼š</li>
</ol>
<div class="sourceCode" id="cb6"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb6-1" title="1"> <span class="cf">else</span> <span class="cf">if</span>(<span class="va">evt</span>.<span class="at">key</span> <span class="op">===</span> <span class="st">&quot;Enter&quot;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb6-2" title="2">    <span class="va">eventEmitter</span>.<span class="at">emit</span>(<span class="va">Messages</span>.<span class="at">KEY_EVENT_ENTER</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb6-3" title="3">  <span class="op">}</span></a></code></pre></div>
<ol type="1">
<li><p><strong>åŠ å…¥é‡æ–°éŠæˆ²çš„è¨Šæ¯</strong>ã€‚ åŠ å…¥é€™æ®µè¨Šæ¯åˆ° Messages å¸¸æ•¸ä¸­ï¼š</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" title="1">KEY_EVENT_ENTER<span class="op">:</span> <span class="st">&quot;KEY_EVENT_ENTER&quot;</span><span class="op">,</span></a></code></pre></div></li>
</ol></li>
<li><p><strong>åˆ¶å®šéŠæˆ²è¦å‰‡</strong>ã€‚ ç·¨åˆ¶ä¸‹åˆ—çš„éŠæˆ²è¦å‰‡ï¼š</p>
<ol type="1">
<li><p><strong>ç©å®¶å‹åˆ©æ¢ä»¶</strong>ã€‚ ç•¶æ‰€æœ‰æ•µè»è‰¦è‰‡è¢«æ“Šæ¯€æ™‚ï¼Œé¡¯ç¤ºå‹åˆ©è¨Šæ¯ã€‚</p>
<ol type="1">
<li>é¦–å…ˆï¼Œå»ºç«‹å‡½å¼ <code>displayMessage()</code>ï¼š</li>
</ol>
<div class="sourceCode" id="cb8"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb8-1" title="1"><span class="kw">function</span> <span class="at">displayMessage</span>(message<span class="op">,</span> color <span class="op">=</span> <span class="st">&quot;red&quot;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb8-2" title="2">  <span class="va">ctx</span>.<span class="at">font</span> <span class="op">=</span> <span class="st">&quot;30px Arial&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb8-3" title="3">  <span class="va">ctx</span>.<span class="at">fillStyle</span> <span class="op">=</span> color<span class="op">;</span></a>
<a class="sourceLine" id="cb8-4" title="4">  <span class="va">ctx</span>.<span class="at">textAlign</span> <span class="op">=</span> <span class="st">&quot;center&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb8-5" title="5">  <span class="va">ctx</span>.<span class="at">fillText</span>(message<span class="op">,</span> <span class="va">canvas</span>.<span class="at">width</span> / <span class="dv">2</span><span class="op">,</span> <span class="va">canvas</span>.<span class="at">height</span> / <span class="dv">2</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb8-6" title="6"><span class="op">}</span></a></code></pre></div>
<ol type="1">
<li>å»ºç«‹å‡½å¼ <code>endGame()</code>ï¼š</li>
</ol>
<div class="sourceCode" id="cb9"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb9-1" title="1"><span class="kw">function</span> <span class="at">endGame</span>(win) <span class="op">{</span></a>
<a class="sourceLine" id="cb9-2" title="2">  <span class="at">clearInterval</span>(gameLoopId)<span class="op">;</span></a>
<a class="sourceLine" id="cb9-3" title="3"></a>
<a class="sourceLine" id="cb9-4" title="4">  <span class="co">// è¨­å®šå»¶é²ä»¥ç¢ºä¿æ‰€æœ‰åœ–åƒçš†ç¹ªè£½å®Œæˆ</span></a>
<a class="sourceLine" id="cb9-5" title="5">  <span class="at">setTimeout</span>(() <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb9-6" title="6">    <span class="va">ctx</span>.<span class="at">clearRect</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="va">canvas</span>.<span class="at">width</span><span class="op">,</span> <span class="va">canvas</span>.<span class="at">height</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb9-7" title="7">    <span class="va">ctx</span>.<span class="at">fillStyle</span> <span class="op">=</span> <span class="st">&quot;black&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb9-8" title="8">    <span class="va">ctx</span>.<span class="at">fillRect</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="va">canvas</span>.<span class="at">width</span><span class="op">,</span> <span class="va">canvas</span>.<span class="at">height</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb9-9" title="9">    <span class="cf">if</span> (win) <span class="op">{</span></a>
<a class="sourceLine" id="cb9-10" title="10">      <span class="at">displayMessage</span>(</a>
<a class="sourceLine" id="cb9-11" title="11">        <span class="st">&quot;Victory!!! Pew Pew... - Press [Enter] to start a new game Captain Pew Pew&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb9-12" title="12">        <span class="st">&quot;green&quot;</span></a>
<a class="sourceLine" id="cb9-13" title="13">      )<span class="op">;</span></a>
<a class="sourceLine" id="cb9-14" title="14">    <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb9-15" title="15">      <span class="at">displayMessage</span>(</a>
<a class="sourceLine" id="cb9-16" title="16">        <span class="st">&quot;You died !!! Press [Enter] to start a new game Captain Pew Pew&quot;</span></a>
<a class="sourceLine" id="cb9-17" title="17">      )<span class="op">;</span></a>
<a class="sourceLine" id="cb9-18" title="18">    <span class="op">}</span></a>
<a class="sourceLine" id="cb9-19" title="19">  <span class="op">},</span> <span class="dv">200</span>)  </a>
<a class="sourceLine" id="cb9-20" title="20"><span class="op">}</span></a></code></pre></div></li>
<li><p><strong>é‡æ–°éŠæˆ²çš„é‚è¼¯</strong>ã€‚ ç•¶ç©å®¶æå¤±æ‰€æœ‰çš„æ€§å‘½ï¼Œæˆ–æ˜¯è´ä¸‹é€™å ´éŠæˆ²ï¼Œé¡¯ç¤ºéŠæˆ²é‡ä¾†çš„æç¤ºã€‚æ­¤å¤–ï¼Œåœ¨<em>é‡æ–°éŠç©</em>æŒ‰éµè¢«æŒ‰å£“æ™‚ï¼Œé‡æ–°éŠæˆ²(ä½ å¯ä»¥è‡ªå·±æ±ºå®šä»»ä¸€å€‹éµç›¤æŒ‰éµ)ã€‚</p>
<ol type="1">
<li>å»ºç«‹å‡½å¼ <code>resetGame()</code>ï¼š</li>
</ol>
<div class="sourceCode" id="cb10"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb10-1" title="1"><span class="kw">function</span> <span class="at">resetGame</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb10-2" title="2">  <span class="cf">if</span> (gameLoopId) <span class="op">{</span></a>
<a class="sourceLine" id="cb10-3" title="3">    <span class="at">clearInterval</span>(gameLoopId)<span class="op">;</span></a>
<a class="sourceLine" id="cb10-4" title="4">    <span class="va">eventEmitter</span>.<span class="at">clear</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb10-5" title="5">    <span class="at">initGame</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb10-6" title="6">    gameLoopId <span class="op">=</span> <span class="at">setInterval</span>(() <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb10-7" title="7">      <span class="va">ctx</span>.<span class="at">clearRect</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="va">canvas</span>.<span class="at">width</span><span class="op">,</span> <span class="va">canvas</span>.<span class="at">height</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb10-8" title="8">      <span class="va">ctx</span>.<span class="at">fillStyle</span> <span class="op">=</span> <span class="st">&quot;black&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb10-9" title="9">      <span class="va">ctx</span>.<span class="at">fillRect</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="va">canvas</span>.<span class="at">width</span><span class="op">,</span> <span class="va">canvas</span>.<span class="at">height</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb10-10" title="10">      <span class="at">drawPoints</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb10-11" title="11">      <span class="at">drawLife</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb10-12" title="12">      <span class="at">updateGameObjects</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb10-13" title="13">      <span class="at">drawGameObjects</span>(ctx)<span class="op">;</span></a>
<a class="sourceLine" id="cb10-14" title="14">    <span class="op">},</span> <span class="dv">100</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb10-15" title="15">  <span class="op">}</span></a>
<a class="sourceLine" id="cb10-16" title="16"><span class="op">}</span></a></code></pre></div></li>
<li><p>åœ¨ <code>initGame()</code> å…§å‘¼å« <code>eventEmitter</code> ä¾†é‡æ–°è¨­å®šéŠæˆ²ï¼š</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb11-1" title="1"><span class="va">eventEmitter</span>.<span class="at">on</span>(<span class="va">Messages</span>.<span class="at">KEY_EVENT_ENTER</span><span class="op">,</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb11-2" title="2">  <span class="at">resetGame</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb11-3" title="3"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div></li>
<li><p>åœ¨ EventEmitter åŠ å…¥å‡½å¼ <code>clear()</code>ï¼š</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb12-1" title="1"><span class="at">clear</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb12-2" title="2">  <span class="kw">this</span>.<span class="at">listeners</span> <span class="op">=</span> <span class="op">{};</span></a>
<a class="sourceLine" id="cb12-3" title="3"><span class="op">}</span></a></code></pre></div></li>
</ol></li>
</ol>
<p>ğŸ‘½ ğŸ’¥ ğŸš€ æ­å–œä½ ï¼Œè‰¦é•·ï¼ä½ çš„éŠæˆ²å·²ç¶“å®Œæˆäº†ï¼å¹¹å¾—å¥½ï¼ ğŸš€ ğŸ’¥ ğŸ‘½</p>
<hr />
<h2 id="æŒ‘æˆ°">ğŸš€ æŒ‘æˆ°</h2>
<p>åŠ å…¥éŠæˆ²éŸ³æ•ˆï¼ä½ èƒ½åŠ å…¥éŸ³æ•ˆä¾†æå‡éŠæˆ²å“è³ªå—ï¼Ÿæˆ–è¨±åœ¨é›·å°„æ“Šä¸­æ•µäººï¼Œæˆ–æ˜¯åœ¨è‹±é›„æ­»äº¡ã€å‹åˆ©æ™‚ç™¼å‡ºéŸ³æ•ˆã€‚çœ‹çœ‹é€™å¥—<a href="https://www.w3schools.com/jsref/tryit.asp?filename=tryjsref_audio_play">æ²™ç›’</a>ï¼Œäº†è§£å¦‚ä½•ä½¿ç”¨ JavaScript æ’­æ”¾éŸ³æ•ˆã€‚</p>
<h2 id="èª²å¾Œæ¸¬é©—">èª²å¾Œæ¸¬é©—</h2>
<p><a href="https://nice-beach-0fe9e9d0f.azurestaticapps.net/quiz/40?loc=zh_tw">èª²å¾Œæ¸¬é©—</a></p>
<h2 id="è¤‡ç¿’èˆ‡è‡ªå­¸">è¤‡ç¿’èˆ‡è‡ªå­¸</h2>
<p>ä½ çš„åŠŸèª²æ˜¯å»ºç«‹ä¸€æ¬¾æ–°çš„å°éŠæˆ²ã€‚å»æ¢ç´¢ä¸€äº›æœ‰è¶£çš„éŠæˆ²ï¼Œæ±ºå®šä½ æƒ³å»ºé€ çš„éŠæˆ²é¡å‹ã€‚</p>
<h2 id="ä½œæ¥­">ä½œæ¥­</h2>
<p><a href="assignment.zh-tw.md">å»ºç«‹ä¸€æ¬¾éŠæˆ²</a></p>
</body>
</html>
