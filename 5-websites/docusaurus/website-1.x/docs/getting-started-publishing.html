<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Publishing your site</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<header id="title-block-header">
<h1 class="title">Publishing your site</h1>
</header>
<p>You should now have a <a href="getting-started-site-creation.md">site up and running locally</a>. Once you have <a href="api-site-config.md">customized</a> it to your liking, it’s time to publish it. Docusaurus generates a static HTML website that is ready to be served by your favorite web server or online hosting solution.</p>
<h2 id="building-static-html-pages">Building Static HTML Pages</h2>
<p>To create a static build of your website, run the following script from the <code>website</code> directory:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" title="1"><span class="ex">yarn</span> run build <span class="co"># or `npm run build`</span></a></code></pre></div>
<p>This will generate a <code>build</code> directory inside the <code>website</code> directory containing the <code>.html</code> files from all of your docs and other pages included in <code>pages</code>.</p>
<h2 id="hosting-static-html-pages">Hosting Static HTML Pages</h2>
<p>At this point, you can grab all of the files inside the <code>website/build</code> directory and copy them over to your favorite web server’s <code>html</code> directory.</p>
<blockquote>
<p>For example, both Apache and Nginx serve content from <code>/var/www/html</code> by default. That said, choosing a web server or provider is outside the scope of Docusaurus.</p>
</blockquote>
<blockquote>
<p>When serving the site from your own web server, ensure the web server is serving the asset files with the proper HTTP headers. CSS files should be served with the <code>content-type</code> header of <code>text/css</code>. In the case of Nginx, this would mean setting <code>include /etc/nginx/mime.types;</code> in your <code>nginx.conf</code> file. See <a href="https://github.com/facebook/docusaurus/issues/602">this issue</a> for more info.</p>
</blockquote>
<h3 id="hosting-on-a-service">Hosting on a Service:</h3>
<ul>
<li><a href="#using-vercel">Vercel</a></li>
<li><a href="#using-github-pages">GitHub Pages</a></li>
<li><a href="#hosting-on-netlify">Netlify</a></li>
<li><a href="#hosting-on-render">Render</a></li>
</ul>
<h3 id="using-vercel">Using Vercel</h3>
<p>Deploying your Docusaurus project to <a href="https://vercel.com">Vercel</a> will provide you with various benefits in the areas of performance and ease of use.</p>
<p>Most importantly, however, deploying a Docusaurus project only takes a couple of seconds:</p>
<ol type="1">
<li>First, install their <a href="https://vercel.com/download">command-line interface</a>:</li>
</ol>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb2-1" title="1"><span class="ex">npm</span> i -g vercel</a></code></pre></div>
<ol start="2" type="1">
<li>Run a single command inside the root directory of your project:</li>
</ol>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb3-1" title="1"><span class="ex">vercel</span></a></code></pre></div>
<p><strong>That’s all.</strong> Your docs will automatically be deployed.</p>
<blockquote>
<p>Note that the directory structure Now supports is slightly different from the default directory structure of a Docusaurus project - The <code>docs</code> directory has to be within the <code>website</code> directory, ideally following the directory structure in this example. You will also have to specify a <code>customDocsPath</code> value in <code>siteConfig.js</code>. Take a look at the <a href="https://github.com/vercel/vercel/tree/master/examples/docusaurus">now-examples repository for a Docusaurus project</a>.</p>
</blockquote>
<h3 id="using-github-pages">Using GitHub Pages</h3>
<p>Docusaurus was designed to work well with one of the most popular hosting solutions for open source projects: <a href="https://pages.github.com/">GitHub Pages</a>.</p>
<h4 id="deploying-to-github-pages">Deploying to GitHub Pages</h4>
<ol type="1">
<li>Docusaurus supports deploying as <a href="https://help.github.com/articles/user-organization-and-project-pages">project pages or user/organization pages</a>, your code repository does not even need to be public.</li>
</ol>
<blockquote>
<p>Even if your repository is private, anything published to a <code>gh-pages</code> branch will be <a href="https://help.github.com/articles/user-organization-and-project-pages/">public</a>.</p>
</blockquote>
<p><strong>Note:</strong> When you deploy as user/organization page, the publish script will deploy these sites to the root of the <strong><code>master</code></strong> branch of the <em>username</em>.github.io repo. In this case, note that you will want to have the Docusaurus infra, your docs, etc. either in <strong>another branch of the <em>username</em>.github.io repo</strong> (e.g., maybe call it <code>source</code>), or in another, separate repo (e.g. in the same as the documented source code).</p>
<ol start="2" type="1">
<li>You will need to modify the file <code>website/siteConfig.js</code> and add the required parameters.</li>
</ol>
<table>
<colgroup>
<col style="width: 8%" />
<col style="width: 91%" />
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>organizationName</code></td>
<td>The GitHub user or organization that owns the repository. If you are the owner, then it is your GitHub username. In the case of Docusaurus, that would be the “<em>facebook</em>” GitHub organization.</td>
</tr>
<tr class="even">
<td><code>projectName</code></td>
<td>The name of the GitHub repository for your project. For example, the source code for Docusaurus is hosted at https://github.com/facebook/docusaurus, so our project name, in this case, would be “docusaurus”.</td>
</tr>
<tr class="odd">
<td><code>url</code></td>
<td>Your website’s URL. For projects hosted on GitHub pages, this will be “https://<em>username</em>.github.io”</td>
</tr>
<tr class="even">
<td><code>baseUrl</code></td>
<td>Base URL for your project. For projects hosted on GitHub pages, it follows the format “/<em>projectName</em>/”. For https://github.com/facebook/docusaurus, <code>baseUrl</code> is <code>/docusaurus/</code>.</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">const</span> siteConfig <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-2" title="2">  ...</a>
<a class="sourceLine" id="cb4-3" title="3">  <span class="dt">url</span><span class="op">:</span> <span class="st">&#39;https://__userName__.github.io&#39;</span><span class="op">,</span> <span class="co">// Your website URL</span></a>
<a class="sourceLine" id="cb4-4" title="4">  <span class="dt">baseUrl</span><span class="op">:</span> <span class="st">&#39;/testProject/&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb4-5" title="5">  <span class="dt">projectName</span><span class="op">:</span> <span class="st">&#39;testProject&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb4-6" title="6">  <span class="dt">organizationName</span><span class="op">:</span> <span class="st">&#39;userName&#39;</span></a>
<a class="sourceLine" id="cb4-7" title="7">  ...</a>
<a class="sourceLine" id="cb4-8" title="8"><span class="op">}</span></a></code></pre></div>
<p>In case you want to deploy as a user or organization site, specify the project name as <code>&lt;username&gt;.github.io</code> or <code>&lt;orgname&gt;.github.io</code>. E.g. If your GitHub username is “user42” then <em>user42.github.io</em>, or in the case of an organization name of “org123”, it will be <em>org123.github.io</em>.</p>
<p><strong>Note:</strong> Not setting the <code>url</code> and <code>baseUrl</code> of your project might result in incorrect file paths generated which can cause broken links to assets paths like stylesheets and images.</p>
<blockquote>
<p>While we recommend setting the <code>projectName</code> and <code>organizationName</code> in <code>siteConfig.js</code>, you can also use environment variables <code>ORGANIZATION_NAME</code> and <code>PROJECT_NAME</code>.</p>
</blockquote>
<ol start="3" type="1">
<li>Now you have to specify the git user as an environment variable, and run the script <a href="./api-commands.md#docusaurus-publish"><code>publish-gh-pages</code></a></li>
</ol>
<table>
<colgroup>
<col style="width: 3%" />
<col style="width: 96%" />
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>GIT_USER</code></td>
<td>The username for a GitHub account that has to commit access to this repo. For your repositories, this will usually be your own GitHub username. The specified <code>GIT_USER</code> must have push access to the repository specified in the combination of <code>organizationName</code> and <code>projectName</code>.</td>
</tr>
</tbody>
</table>
<p>To run the script directly from the command-line, you can use the following, filling in the parameter values as appropriate.</p>
<p><strong>Bash</strong></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb5-1" title="1"><span class="va">GIT_USER=</span><span class="op">&lt;</span><span class="ex">GIT_USER</span><span class="op">&gt;</span> \</a>
<a class="sourceLine" id="cb5-2" title="2">  CURRENT_BRANCH=master \</a>
<a class="sourceLine" id="cb5-3" title="3">  USE_SSH=true \</a>
<a class="sourceLine" id="cb5-4" title="4">  yarn run publish-gh-pages <span class="co"># or `npm run publish-gh-pages`</span></a></code></pre></div>
<p><strong>Windows</strong></p>
<pre class="batch"><code>cmd /C &quot;set &quot;GIT_USER=&lt;GIT_USER&gt;&quot;&amp;&amp; set CURRENT_BRANCH=master &amp;&amp; set USE_SSH=true &amp;&amp; yarn run publish-gh-pages&quot;</code></pre>
<p>There are also two optional parameters that are set as environment variables:</p>
<table>
<colgroup>
<col style="width: 5%" />
<col style="width: 94%" />
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>USE_SSH</code></td>
<td>If this is set to <code>true</code>, then SSH is used instead of HTTPS for the connection to the GitHub repo. HTTPS is the default if this variable is not set.</td>
</tr>
<tr class="even">
<td><code>CURRENT_BRANCH</code></td>
<td>The branch that contains the latest docs changes that will be deployed. Usually, the branch will be <code>master</code>, but it could be any branch (default or otherwise) except for <code>gh-pages</code>. If nothing is set for this variable, then the current branch will be used.</td>
</tr>
</tbody>
</table>
<p>If you run into issues related to SSH keys, visit <a href="https://help.github.com/articles/connecting-to-github-with-ssh/">GitHub’s authentication documentation</a>.</p>
<p>You should now be able to load your website by visiting its GitHub Pages URL, which could be something along the lines of https://<em>username</em>.github.io/<em>projectName</em>, or a custom domain if you have set that up. For example, Docusaurus’ own GitHub Pages URL is https://facebook.github.io/Docusaurus because it is served from the <code>gh-pages</code> branch of the https://github.com/facebook/docusaurus GitHub repository. However, it can also be accessed via https://docusaurus.io/, via a generated <code>CNAME</code> file which can be configured via the <code>cname</code> <a href="api-site-config.md#cname-string">siteConfig option</a>.</p>
<p>We highly encourage reading through the <a href="https://pages.github.com">GitHub Pages documentation</a> to learn more about how this hosting solution works.</p>
<p>You can run the command above any time you update the docs and wish to deploy the changes to your site. Running the script manually may be fine for sites where the documentation rarely changes and it is not too much of an inconvenience to remember to manually deploy changes.</p>
<p>However, you can automate the publishing process with continuous integration (CI).</p>
<h2 id="automating-deployments-using-continuous-integration">Automating Deployments Using Continuous Integration</h2>
<p>Continuous integration (CI) services are typically used to perform routine tasks whenever new commits are checked in to source control. These tasks can be any combination of running unit tests and integration tests, automating builds, publishing packages to NPM, and yes, deploying changes to your website. All you need to do to automate the deployment of your website is to invoke the <code>publish-gh-pages</code> script whenever your docs get updated. In the following section, we’ll be covering how to do just that using <a href="https://circleci.com/">CircleCI</a>, a popular continuous integration service provider.</p>
<h3 id="using-circleci-2.0">Using CircleCI 2.0</h3>
<p>If you haven’t done so already, you can <a href="https://circleci.com/signup/">setup CircleCI</a> for your open source project. Afterwards, in order to enable automatic deployment of your site and documentation via CircleCI, just configure Circle to run the <code>publish-gh-pages</code> script as part of the deployment step. You can follow the steps below to get that setup.</p>
<ol type="1">
<li>Ensure the GitHub account that will be set as the <code>GIT_USER</code> has <code>write</code> access to the repository that contains the documentation, by checking <code>Settings | Collaborators &amp; teams</code> in the repository.</li>
<li>Log into GitHub as the <code>GIT_USER</code>.</li>
<li>Go to https://github.com/settings/tokens for the <code>GIT_USER</code> and generate a new <a href="https://help.github.com/articles/creating-a-personal-access-token-for-the-command-line/">personal access token</a>, granting it full control of private repositories through the <code>repository</code> access scope. Store this token in a safe place, making sure to not share it with anyone. This token can be used to authenticate GitHub actions on your behalf in place of your GitHub password.</li>
<li>Open your CircleCI dashboard, and navigate to the Settings page for your repository, then select “Environment variables”. The URL looks like https://circleci.com/gh/ORG/REPO/edit#env-vars, where “ORG/REPO” should be replaced with your own GitHub organization/repository.</li>
<li>Create a new environment variable named <code>GITHUB_TOKEN</code>, using your newly generated access token as the value.</li>
<li>Create a <code>.circleci</code> directory and create a <code>config.yml</code> under that directory.</li>
<li>Copy the text below into <code>.circleci/config.yml</code>.</li>
</ol>
<div class="sourceCode" id="cb7"><pre class="sourceCode yaml"><code class="sourceCode yaml"><a class="sourceLine" id="cb7-1" title="1"><span class="co"># If you only want the circle to run on direct commits to master, you can uncomment this out</span></a>
<a class="sourceLine" id="cb7-2" title="2"><span class="co"># and uncomment the filters: *filter-only-master down below too</span></a>
<a class="sourceLine" id="cb7-3" title="3"><span class="co">#</span></a>
<a class="sourceLine" id="cb7-4" title="4"><span class="co"># aliases:</span></a>
<a class="sourceLine" id="cb7-5" title="5"><span class="co">#  - &amp;filter-only-master</span></a>
<a class="sourceLine" id="cb7-6" title="6"><span class="co">#    branches:</span></a>
<a class="sourceLine" id="cb7-7" title="7"><span class="co">#      only:</span></a>
<a class="sourceLine" id="cb7-8" title="8"><span class="co">#        - master</span></a>
<a class="sourceLine" id="cb7-9" title="9"></a>
<a class="sourceLine" id="cb7-10" title="10"><span class="fu">version:</span><span class="at"> </span><span class="dv">2</span></a>
<a class="sourceLine" id="cb7-11" title="11"><span class="fu">jobs:</span></a>
<a class="sourceLine" id="cb7-12" title="12">  <span class="fu">deploy-website:</span></a>
<a class="sourceLine" id="cb7-13" title="13">    <span class="fu">docker:</span></a>
<a class="sourceLine" id="cb7-14" title="14">      <span class="co"># specify the version you desire here</span></a>
<a class="sourceLine" id="cb7-15" title="15">      <span class="kw">-</span> <span class="fu">image:</span><span class="at"> circleci/node:8.11.1</span></a>
<a class="sourceLine" id="cb7-16" title="16"></a>
<a class="sourceLine" id="cb7-17" title="17">    <span class="fu">steps:</span></a>
<a class="sourceLine" id="cb7-18" title="18">      <span class="kw">-</span> checkout</a>
<a class="sourceLine" id="cb7-19" title="19">      <span class="kw">-</span> <span class="fu">run:</span></a>
<a class="sourceLine" id="cb7-20" title="20">          <span class="fu">name:</span><span class="at"> Deploying to GitHub Pages</span></a>
<a class="sourceLine" id="cb7-21" title="21"><span class="fu">          command:</span> <span class="st">|</span></a>
<a class="sourceLine" id="cb7-22" title="22">            git config --global user.email &quot;&lt;GITHUB_USERNAME&gt;@users.noreply.github.com&quot;</a>
<a class="sourceLine" id="cb7-23" title="23">            git config --global user.name &quot;&lt;YOUR_NAME&gt;&quot;</a>
<a class="sourceLine" id="cb7-24" title="24">            echo &quot;machine github.com login &lt;GITHUB_USERNAME&gt; password $GITHUB_TOKEN&quot; &gt; ~/.netrc</a>
<a class="sourceLine" id="cb7-25" title="25">            cd website &amp;&amp; yarn install &amp;&amp; GIT_USER=&lt;GIT_USER&gt; yarn run publish-gh-pages</a>
<a class="sourceLine" id="cb7-26" title="26"></a>
<a class="sourceLine" id="cb7-27" title="27"><span class="fu">workflows:</span></a>
<a class="sourceLine" id="cb7-28" title="28">  <span class="fu">version:</span><span class="at"> </span><span class="dv">2</span></a>
<a class="sourceLine" id="cb7-29" title="29">  <span class="fu">build_and_deploy:</span></a>
<a class="sourceLine" id="cb7-30" title="30">    <span class="fu">jobs:</span></a>
<a class="sourceLine" id="cb7-31" title="31">      <span class="kw">-</span> <span class="fu">deploy-website:</span></a>
<a class="sourceLine" id="cb7-32" title="32"><span class="co">#         filters: *filter-only-master</span></a></code></pre></div>
<p>Make sure to replace all <code>&lt;....&gt;</code> in the <code>command:</code> sequence with appropriate values. For <code>&lt;GIT_USER&gt;</code>, it should be a GitHub account that has access to push documentation to your GitHub repository. Many times <code>&lt;GIT_USER&gt;</code> and <code>&lt;GITHUB_USERNAME&gt;</code> will be the same.</p>
<p><strong>DO NOT</strong> place the actual value of <code>$GITHUB_TOKEN</code> in <code>circle.yml</code>. We already configured that as an environment variable back in Step 5.</p>
<blockquote>
<p>If you want to use SSH for your GitHub repository connection, you can set <code>USE_SSH=true</code>. So the above command would look something like: <code>cd website &amp;&amp; npm install &amp;&amp; GIT_USER=&lt;GIT_USER&gt; USE_SSH=true npm run publish-gh-pages</code>.</p>
</blockquote>
<blockquote>
<p>Unlike when you run the <code>publish-gh-pages</code> script manually when the script runs within the Circle environment, the value of <code>CURRENT_BRANCH</code> is already defined as an <a href="https://circleci.com/docs/1.0/environment-variables/">environment variable within CircleCI</a> and will be picked up by the script automatically.</p>
</blockquote>
<p>Now, whenever a new commit lands in <code>master</code>, CircleCI will run your suite of tests and, if everything passes, your website will be deployed via the <code>publish-gh-pages</code> script.</p>
<blockquote>
<p>If you would rather use a deploy key instead of a personal access token, you can by starting with the CircleCI <a href="https://circleci.com/docs/1.0/adding-read-write-deployment-key/">instructions</a> for adding a read/write deploy key.</p>
</blockquote>
<h3 id="tips-tricks">Tips &amp; Tricks</h3>
<p>When initially deploying to a <code>gh-pages</code> branch using CircleCI, you may notice that some jobs triggered by commits to the <code>gh-pages</code> branch fail to run successfully due to a lack of tests (This can also result in chat/slack build failure notifications).</p>
<p>You can work around this by:</p>
<ul>
<li>Setting the environment variable <code>CUSTOM_COMMIT_MESSAGE</code> flag to the <code>publish-gh-pages</code> command with the contents of <code>[skip ci]</code>. e.g.</li>
</ul>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb8-1" title="1"><span class="va">CUSTOM_COMMIT_MESSAGE=</span><span class="st">&quot;[skip ci]&quot;</span> <span class="kw">\</span></a>
<a class="sourceLine" id="cb8-2" title="2">  <span class="ex">yarn</span> run publish-gh-pages <span class="co"># or `npm run publish-gh-pages`</span></a></code></pre></div>
<ul>
<li>Alternatively, you can work around this by creating a basic CircleCI config with the following contents:</li>
</ul>
<div class="sourceCode" id="cb9"><pre class="sourceCode yaml"><code class="sourceCode yaml"><a class="sourceLine" id="cb9-1" title="1"><span class="co"># CircleCI 2.0 Config File</span></a>
<a class="sourceLine" id="cb9-2" title="2"><span class="co"># This config file will prevent tests from being run on the gh-pages branch.</span></a>
<a class="sourceLine" id="cb9-3" title="3"><span class="fu">version:</span><span class="at"> </span><span class="dv">2</span></a>
<a class="sourceLine" id="cb9-4" title="4"><span class="fu">jobs:</span></a>
<a class="sourceLine" id="cb9-5" title="5">  <span class="fu">build:</span></a>
<a class="sourceLine" id="cb9-6" title="6">    <span class="fu">machine:</span><span class="at"> </span><span class="ch">true</span></a>
<a class="sourceLine" id="cb9-7" title="7">    <span class="fu">branches:</span></a>
<a class="sourceLine" id="cb9-8" title="8">      <span class="fu">ignore:</span><span class="at"> gh-pages</span></a>
<a class="sourceLine" id="cb9-9" title="9">    <span class="fu">steps:</span></a>
<a class="sourceLine" id="cb9-10" title="10">      <span class="kw">-</span> <span class="fu">run:</span><span class="at"> echo &quot;Skipping tests on gh-pages branch&quot;</span></a></code></pre></div>
<p>Save this file as <code>config.yml</code> and place it in a <code>.circleci</code> directory inside your <code>website/static</code> directory.</p>
<h3 id="using-travis-ci">Using Travis CI</h3>
<ol type="1">
<li>Go to https://github.com/settings/tokens and generate a new <a href="https://help.github.com/articles/creating-a-personal-access-token-for-the-command-line/">personal access token</a></li>
<li>Using your GitHub account, <a href="https://github.com/marketplace/travis-ci">add the Travis CI app</a> to the repository you want to activate.</li>
<li>Open your Travis CI dashboard. The URL looks like https://travis-ci.com/USERNAME/REPO, and navigate to the <code>More options</code> &gt; <code>Setting</code> &gt; <code>Environment Variables</code> section of your repository.</li>
<li>Create a new environment variable named <code>GH_TOKEN</code> with your newly generated token as its value, then <code>GH_EMAIL</code> (your email address) and <code>GH_NAME</code> (your GitHub username).</li>
<li>Create a <code>.travis.yml</code> on the root of your repository with below text.</li>
</ol>
<div class="sourceCode" id="cb10"><pre class="sourceCode yaml"><code class="sourceCode yaml"><a class="sourceLine" id="cb10-1" title="1"><span class="co"># .travis.yml</span></a>
<a class="sourceLine" id="cb10-2" title="2"><span class="fu">language:</span><span class="at"> node_js</span></a>
<a class="sourceLine" id="cb10-3" title="3"><span class="fu">node_js:</span></a>
<a class="sourceLine" id="cb10-4" title="4">  <span class="kw">-</span> <span class="st">&#39;8&#39;</span></a>
<a class="sourceLine" id="cb10-5" title="5"><span class="fu">branches:</span></a>
<a class="sourceLine" id="cb10-6" title="6">  <span class="fu">only:</span></a>
<a class="sourceLine" id="cb10-7" title="7">    <span class="kw">-</span> master</a>
<a class="sourceLine" id="cb10-8" title="8"><span class="fu">cache:</span></a>
<a class="sourceLine" id="cb10-9" title="9">  <span class="fu">yarn:</span><span class="at"> </span><span class="ch">true</span></a>
<a class="sourceLine" id="cb10-10" title="10"><span class="fu">script:</span></a>
<a class="sourceLine" id="cb10-11" title="11">  <span class="kw">-</span> git config --global user.name <span class="st">&quot;${GH_NAME}&quot;</span></a>
<a class="sourceLine" id="cb10-12" title="12">  <span class="kw">-</span> git config --global user.email <span class="st">&quot;${GH_EMAIL}&quot;</span></a>
<a class="sourceLine" id="cb10-13" title="13">  <span class="kw">-</span> echo <span class="st">&quot;machine github.com login ${GH_NAME} password ${GH_TOKEN}&quot;</span> &gt; ~/.netrc</a>
<a class="sourceLine" id="cb10-14" title="14">  <span class="kw">-</span> cd website &amp;&amp; yarn install &amp;&amp; GIT_USER=<span class="st">&quot;${GH_NAME}&quot;</span> yarn run publish-gh-pages</a></code></pre></div>
<p>Now, whenever a new commit lands in <code>master</code>, Travis CI will run your suite of tests and, if everything passes, your website will be deployed via the <code>publish-gh-pages</code> script.</p>
<h3 id="using-azure-pipelines">Using Azure Pipelines</h3>
<ol type="1">
<li>Sign Up at <a href="https://azure.microsoft.com/en-us/services/devops/pipelines/">Azure Pipelines</a> if you haven’t already.</li>
<li>Create an organization and within the organization create a project and connect your repository from GitHub.</li>
<li>Go to https://github.com/settings/tokens and generate a new <a href="https://help.github.com/articles/creating-a-personal-access-token-for-the-command-line/">personal access token</a> with repository scope.</li>
<li>In the project page (which looks like https://dev.azure.com/ORG_NAME/REPO_NAME/_build) create a new pipeline with the following text. Also, click on edit and add a new environment variable named <code>GH_TOKEN</code> with your newly generated token as its value, then <code>GH_EMAIL</code> (your email address) and <code>GH_NAME</code> (your GitHub username). Make sure to mark them as secret. Alternatively, you can also add a file named <code>azure-pipelines.yml</code> at your repository root.</li>
</ol>
<div class="sourceCode" id="cb11"><pre class="sourceCode yaml"><code class="sourceCode yaml"><a class="sourceLine" id="cb11-1" title="1"><span class="co"># azure-pipelines.yml</span></a>
<a class="sourceLine" id="cb11-2" title="2"><span class="fu">trigger:</span></a>
<a class="sourceLine" id="cb11-3" title="3">  <span class="kw">-</span> master</a>
<a class="sourceLine" id="cb11-4" title="4"></a>
<a class="sourceLine" id="cb11-5" title="5"><span class="fu">pool:</span></a>
<a class="sourceLine" id="cb11-6" title="6">  <span class="fu">vmImage:</span><span class="at"> </span><span class="st">&#39;ubuntu-latest&#39;</span></a>
<a class="sourceLine" id="cb11-7" title="7"></a>
<a class="sourceLine" id="cb11-8" title="8"><span class="fu">steps:</span></a>
<a class="sourceLine" id="cb11-9" title="9">  <span class="kw">-</span> <span class="fu">checkout:</span><span class="at"> self</span></a>
<a class="sourceLine" id="cb11-10" title="10">    <span class="fu">persistCredentials:</span><span class="at"> </span><span class="ch">true</span></a>
<a class="sourceLine" id="cb11-11" title="11"></a>
<a class="sourceLine" id="cb11-12" title="12">  <span class="kw">-</span> <span class="fu">task:</span><span class="at"> NodeTool@0</span></a>
<a class="sourceLine" id="cb11-13" title="13">    <span class="fu">inputs:</span></a>
<a class="sourceLine" id="cb11-14" title="14">      <span class="fu">versionSpec:</span><span class="at"> </span><span class="st">&#39;10.x&#39;</span></a>
<a class="sourceLine" id="cb11-15" title="15">    <span class="fu">displayName:</span><span class="at"> </span><span class="st">&#39;Install Node.js&#39;</span></a>
<a class="sourceLine" id="cb11-16" title="16"></a>
<a class="sourceLine" id="cb11-17" title="17"><span class="kw">  - </span><span class="fu">script:</span><span class="at"> </span><span class="st">|</span></a>
<a class="sourceLine" id="cb11-18" title="18">      git config --global user.name &quot;${GH_NAME}&quot;</a>
<a class="sourceLine" id="cb11-19" title="19">      git config --global user.email &quot;${GH_EMAIL}&quot;</a>
<a class="sourceLine" id="cb11-20" title="20">      git checkout -b master</a>
<a class="sourceLine" id="cb11-21" title="21">      echo &quot;machine github.com login ${GH_NAME} password ${GH_TOKEN}&quot; &gt; ~/.netrc</a>
<a class="sourceLine" id="cb11-22" title="22">      cd website</a>
<a class="sourceLine" id="cb11-23" title="23">      yarn install</a>
<a class="sourceLine" id="cb11-24" title="24">      GIT_USER=&quot;${GH_NAME}&quot; CURRENT_BRANCH=master yarn run publish-gh-pages</a>
<a class="sourceLine" id="cb11-25" title="25">    <span class="fu">env:</span></a>
<a class="sourceLine" id="cb11-26" title="26">      <span class="fu">GH_NAME:</span><span class="at"> $(GH_NAME)</span></a>
<a class="sourceLine" id="cb11-27" title="27">      <span class="fu">GH_EMAIL:</span><span class="at"> $(GH_EMAIL)</span></a>
<a class="sourceLine" id="cb11-28" title="28">      <span class="fu">GH_TOKEN:</span><span class="at"> $(GH_TOKEN)</span></a>
<a class="sourceLine" id="cb11-29" title="29">    <span class="fu">displayName:</span><span class="at"> </span><span class="st">&#39;yarn install and build&#39;</span></a></code></pre></div>
<h3 id="using-drone">Using Drone</h3>
<ol type="1">
<li>Create a new ssh key that will be the <a href="https://docs.github.com/en/free-pro-team@latest/developers/overview/managing-deploy-keys#deploy-keys">deploy key</a> for your project.</li>
<li>Name your private and public keys to be specific and so that it does not overwrite your other <a href="https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent">ssh keys</a>.</li>
<li>Go to https://github.com/USERNAME/REPO/settings/keys and add a new deploy key by pasting in our public key you just generated.</li>
<li>Open your Drone.io dashboard and login. The URL looks like https://cloud.drone.io/USERNAME/REPO.</li>
<li>Click on the repository, click on activate repository, and add a secret called <code>git_deploy_private_key</code> with your private key value that you just generated.</li>
<li>Create a <code>.drone.yml</code> on the root of your repository with below text.</li>
</ol>
<div class="sourceCode" id="cb12"><pre class="sourceCode yaml"><code class="sourceCode yaml"><a class="sourceLine" id="cb12-1" title="1"><span class="co"># .drone.yml</span></a>
<a class="sourceLine" id="cb12-2" title="2"><span class="fu">kind:</span><span class="at"> pipeline</span></a>
<a class="sourceLine" id="cb12-3" title="3"><span class="fu">type:</span><span class="at"> docker</span></a>
<a class="sourceLine" id="cb12-4" title="4"><span class="fu">trigger:</span></a>
<a class="sourceLine" id="cb12-5" title="5">  <span class="fu">event:</span></a>
<a class="sourceLine" id="cb12-6" title="6">    <span class="kw">-</span> tag</a>
<a class="sourceLine" id="cb12-7" title="7"><span class="kw">-</span> <span class="fu">name:</span><span class="at"> Website</span></a>
<a class="sourceLine" id="cb12-8" title="8">  <span class="fu">image:</span><span class="at"> node</span></a>
<a class="sourceLine" id="cb12-9" title="9">  <span class="fu">commands:</span></a>
<a class="sourceLine" id="cb12-10" title="10">    <span class="kw">-</span> mkdir -p $HOME/.ssh</a>
<a class="sourceLine" id="cb12-11" title="11">    <span class="kw">-</span> ssh-keyscan -t rsa github.com &gt;&gt; $HOME/.ssh/known_hosts</a>
<a class="sourceLine" id="cb12-12" title="12">    <span class="kw">-</span> echo <span class="st">&quot;$GITHUB_PRIVATE_KEY &gt; $HOME/.ssh/id_rsa&quot;</span></a>
<a class="sourceLine" id="cb12-13" title="13">    <span class="kw">-</span> chmod 0600 $HOME/.ssh/id_rsa</a>
<a class="sourceLine" id="cb12-14" title="14">    <span class="kw">-</span> cd website</a>
<a class="sourceLine" id="cb12-15" title="15">    <span class="kw">-</span> npm i</a>
<a class="sourceLine" id="cb12-16" title="16">    <span class="kw">-</span> npm run publish-gh-pages</a>
<a class="sourceLine" id="cb12-17" title="17">  <span class="fu">environment:</span></a>
<a class="sourceLine" id="cb12-18" title="18">    <span class="fu">USE_SSH:</span><span class="at"> </span><span class="ch">true</span></a>
<a class="sourceLine" id="cb12-19" title="19">    <span class="fu">GIT_USER:</span><span class="at"> $DRONE_COMMIT_AUTHOR</span></a>
<a class="sourceLine" id="cb12-20" title="20">    <span class="fu">GITHUB_PRIVATE_KEY:</span><span class="at"> git_deploy_private_key</span></a></code></pre></div>
<p>Now, whenever you push a new tag to github, this trigger will start the drone ci job to publish your website.</p>
<h3 id="hosting-on-vercel">Hosting on Vercel</h3>
<p>Deploying your Docusaurus project to <a href="https://vercel.com/">Vercel</a> will provide you with <a href="https://vercel.com/">various benefits</a> in the areas of performance and ease of use.</p>
<p>To deploy your Docusaurus project with a <a href="https://vercel.com/docs/git-integrations">Vercel for Git Integration</a>, make sure it has been pushed to a Git repository.</p>
<p>Import the project into Vercel using the <a href="https://vercel.com/import/git">Import Flow</a>. During the import, you will find all relevant options preconfigured for you; however, you can choose to change any of these options, a list of which can be found <a href="https://vercel.com/docs/build-step#build-&amp;-development-settings">here</a>.</p>
<p>After your project has been imported, all subsequent pushes to branches will generate <a href="https://vercel.com/docs/platform/deployments#preview">Preview Deployments</a>, and all changes made to the <a href="https://vercel.com/docs/git-integrations#production-branch">Production Branch</a> (commonly “main”) will result in a <a href="https://vercel.com/docs/platform/deployments#production">Production Deployment</a>.</p>
<h3 id="hosting-on-netlify">Hosting on Netlify</h3>
<p>Steps to configure your Docusaurus-powered site on Netlify.</p>
<ol type="1">
<li>Select <strong>New site from Git</strong></li>
<li>Connect to your preferred Git provider.</li>
<li>Select the branch to deploy. Default is <code>master</code></li>
<li><p>Configure your build steps:</p>
<ul>
<li>For your build command enter: <code>cd website; npm install; npm run build;</code></li>
<li>For publish directory: <code>website/build/&lt;projectName&gt;</code> (use the <code>projectName</code> from your <code>siteConfig</code>)</li>
</ul></li>
<li><p>Click <strong>Deploy site</strong></p></li>
</ol>
<p>You can also configure Netlify to rebuild on every commit to your repository, or only <code>master</code> branch commits.</p>
<h3 id="hosting-on-render">Hosting on Render</h3>
<p>Render offers free <a href="https://render.com/docs/static-sites">static site</a> hosting with fully managed SSL, custom domains, a global CDN and continuous auto deploy from your Git repo. Deploy your app in just a few minutes by following these steps.</p>
<ol type="1">
<li><p>Create a new <strong>Web Service</strong> on Render, and give Render’s GitHub app permission to access your Docusaurus repo.</p></li>
<li><p>Select the branch to deploy. The default is <code>master</code>.</p></li>
<li><p>Enter the following values during creation.</p>
<table>
<thead>
<tr class="header">
<th>Field</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Environment</strong></td>
<td><code>Static Site</code></td>
</tr>
<tr class="even">
<td><strong>Build Command</strong></td>
<td><code>cd website; yarn install; yarn build</code></td>
</tr>
<tr class="odd">
<td><strong>Publish Directory</strong></td>
<td><code>website/build/&lt;projectName&gt;</code></td>
</tr>
</tbody>
</table>
<p><code>projectName</code> is the value you defined in your <code>siteConfig.js</code>.</p>
<pre class="javascript{7}"><code>const siteConfig = {
  // ...
  projectName: &#39;your-project-name&#39;,
  // ...</code></pre></li>
</ol>
<p>That’s it! Your app will be live on your Render URL as soon as the build finishes.</p>
<h3 id="publishing-to-github-enterprise">Publishing to GitHub Enterprise</h3>
<p>GitHub enterprise installations should work in the same manner as github.com; you only need to identify the organization’s GitHub Enterprise host.</p>
<table>
<thead>
<tr class="header">
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>GITHUB_HOST</code></td>
<td>The hostname for the GitHub enterprise server.</td>
</tr>
</tbody>
</table>
<p>Alter your <code>siteConfig.js</code> to add a property <code>'githubHost'</code> which represents the GitHub Enterprise hostname. Alternatively, set an environment variable <code>GITHUB_HOST</code> when executing the publish command.</p>
</body>
</html>
