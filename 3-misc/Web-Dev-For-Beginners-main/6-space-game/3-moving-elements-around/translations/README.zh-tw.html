<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README.zh-tw</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h1 id="å»ºç«‹å¤ªç©ºéŠæˆ²-part-3åŠ å…¥å‹•ä½œ">å»ºç«‹å¤ªç©ºéŠæˆ² Part 3ï¼šåŠ å…¥å‹•ä½œ</h1>
<h2 id="èª²å‰æ¸¬é©—">èª²å‰æ¸¬é©—</h2>
<p><a href="https://nice-beach-0fe9e9d0f.azurestaticapps.net/quiz/33?loc=zh_tw">èª²å‰æ¸¬é©—</a></p>
<p>æœ‰å¤–æ˜Ÿäººåœ¨ç§»å‹•çš„éŠæˆ²æ‰æœƒå¥½ç©ï¼åœ¨é€™æ¬¾éŠæˆ²ä¸­ï¼Œæˆ‘å€‘æœƒå»ºç«‹å…©ç¨®ç§»å‹•æ¨¡å¼ï¼š</p>
<ul>
<li><strong>éµç›¤æ»‘é¼ çš„ç§»å‹•</strong>ï¼šç•¶ä½¿ç”¨è€…æ§åˆ¶éµç›¤æˆ–æ»‘é¼ æ™‚ï¼Œèƒ½ç§»å‹•ç•«é¢ä¸Šçš„ç‰©ä»¶ã€‚</li>
<li><strong>éŠæˆ²å…§å»ºçš„ç§»å‹•</strong>ï¼šéŠæˆ²èƒ½è‡ªå‹•åœ°åœ¨ä¸€å®šæ™‚é–“å…§ï¼Œç§»å‹•å…¶ä¸­çš„ç‰©ä»¶ã€‚</li>
</ul>
<p>é‚£æˆ‘å€‘è©²å¦‚ä½•ç§»å‹•ç•«é¢ä¸Šçš„ç‰©ä»¶å‘¢ï¼Ÿé€™éƒ½å–æ±ºæ–¼ç¬›å¡çˆ¾åº§æ¨™ç³»ï¼šæˆ‘å€‘æ”¹è®Šç‰©ä»¶çš„åº§æ¨™ (x,y)ï¼Œä¸¦åœ¨ç•«é¢ä¸Šé‡æ–°ç¹ªè£½å‡ºä¾†ã€‚</p>
<p>é€šå¸¸ä½ éœ€è¦ä¸‹åˆ—æµç¨‹ä¾†<em>ç§»å‹•</em>ç•«é¢ä¸Šçš„ç‰©ä»¶ï¼š</p>
<ol type="1">
<li><strong>è¨­å®šç‰©ä»¶çš„æ–°åœ°é»</strong>ï¼Œä½ æ‰èƒ½å¯Ÿè¦ºåˆ°ç‰©ä»¶æœ‰æ‰€ç§»å‹•ã€‚</li>
<li><strong>æ¸…é™¤ç•«é¢</strong>ï¼Œæ¯ä¸€æ¬¡çš„ç¹ªè£½é–“éƒ½éœ€è¦å°‡ç•«é¢æ¸…é™¤ä¹¾æ·¨ã€‚æˆ‘å€‘å¯ä»¥ç¹ªè£½ä¸€å¼µèƒŒæ™¯è‰²çš„çŸ©å½¢ä¾†è¦†è“‹ç•«é¢ã€‚</li>
<li><strong>åœ¨æ–°åœ°é»é‡æ–°ç¹ªè£½ç‰©ä»¶</strong>ï¼Œæˆ‘å€‘å°±èƒ½ç§»å‹•ç‰©ä»¶ï¼Œå¾ A é»ç§»å‹•åˆ° B é»ã€‚</li>
</ol>
<p>åˆç†çš„ç¨‹å¼ç¢¼å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="co">// è¨­å®šè‹±é›„ä½ç½®</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="va">hero</span>.<span class="at">x</span> <span class="op">+=</span> <span class="dv">5</span><span class="op">;</span></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="co">// åˆ©ç”¨çŸ©å½¢æ¸…é™¤è‹±é›„</span></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="va">ctx</span>.<span class="at">clearRect</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="va">canvas</span>.<span class="at">width</span><span class="op">,</span> <span class="va">canvas</span>.<span class="at">height</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="co">// é‡æ–°ç¹ªè£½èƒŒæ™¯èˆ‡è‹±é›„</span></a>
<a class="sourceLine" id="cb1-6" title="6"><span class="va">ctx</span>.<span class="at">fillRect</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="va">canvas</span>.<span class="at">width</span><span class="op">,</span> <span class="va">canvas</span>.<span class="at">height</span>)</a>
<a class="sourceLine" id="cb1-7" title="7"><span class="va">ctx</span>.<span class="at">fillStyle</span> <span class="op">=</span> <span class="st">&quot;black&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb1-8" title="8"><span class="va">ctx</span>.<span class="at">drawImage</span>(heroImg<span class="op">,</span> <span class="va">hero</span>.<span class="at">x</span><span class="op">,</span> <span class="va">hero</span>.<span class="at">y</span>)<span class="op">;</span></a></code></pre></div>
<p>âœ… ä½ èƒ½äº†è§£ç‚ºä»€éº¼åœ¨åŒä¸€ç§’å…§å¤šæ¬¡é‡æ–°ç¹ªè£½è‹±é›„æœƒå½±éŸ¿æ•ˆèƒ½çš„åŸå› å—ï¼Ÿé–±è®€<a href="https://www.html5rocks.com/en/tutorials/canvas/performance/">å…¶ä»–ç¨®åŒç›®çš„ä¹‹è¨­è¨ˆæ¨¡å¼</a>ã€‚</p>
<h2 id="è™•ç†éµç›¤äº‹ä»¶">è™•ç†éµç›¤äº‹ä»¶</h2>
<p>é€£æ¥ç‰¹å®šäº‹ä»¶åˆ°ç¨‹å¼ä¸­ï¼Œä½ å°±èƒ½è™•ç†éŠæˆ²äº‹ä»¶ã€‚éµç›¤äº‹ä»¶å¯ä»¥åœ¨è¦–çª—è¢«é¸æ“‡æ™‚è§¸ç™¼ï¼Œè€Œæ»‘é¼ äº‹ä»¶å¦‚ <code>click</code>ï¼Œå‰‡è¦é»æ“Šç‰¹å®šçš„ç‰©ä»¶ã€‚æˆ‘å€‘æœƒåœ¨é€™å€‹å°ˆæ¡ˆä¸­ï¼Œä½¿ç”¨éµç›¤ç‰©ä»¶ã€‚</p>
<p>è¦è™•ç†ä¸€ç¨®äº‹ä»¶ï¼Œéœ€è¦ä½¿ç”¨è¦–çª—çš„ <code>addEventListener()</code> æ–¹æ³•ï¼Œä¸¦æä¾›çµ¦å®ƒå…©å€‹åƒæ•¸ã€‚ç¬¬ä¸€å€‹åƒæ•¸æ˜¯äº‹ä»¶çš„åç¨±ï¼Œä¾‹å¦‚ï¼š <code>keyup</code>ã€‚ç¬¬äºŒå€‹åƒæ•¸æ˜¯å›æ‡‰äº‹ä»¶çµæœçš„è¢«å‘¼å«å‡½å¼ã€‚</p>
<p>ä¸‹åˆ—æ˜¯ä¸€ç¨®ä¾‹å­ï¼š</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="va">window</span>.<span class="at">addEventListener</span>(<span class="st">&#39;keyup&#39;</span><span class="op">,</span> (evt) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-2" title="2">  <span class="co">// `evt.key` = æŒ‰éµå­—ä¸²</span></a>
<a class="sourceLine" id="cb2-3" title="3">  <span class="cf">if</span> (<span class="va">evt</span>.<span class="at">key</span> <span class="op">===</span> <span class="st">&#39;ArrowUp&#39;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-4" title="4">    <span class="co">// åšæŸäº‹</span></a>
<a class="sourceLine" id="cb2-5" title="5">  <span class="op">}</span></a>
<a class="sourceLine" id="cb2-6" title="6"><span class="op">}</span>)</a></code></pre></div>
<p>éµç›¤äº‹ä»¶æœ‰å…©å€‹å±¬æ€§ä¾†åˆ¤åˆ¥è¢«æŒ‰å£“çš„æŒ‰éµï¼š</p>
<ul>
<li><code>key</code>ï¼Œä½¿ç”¨å­—ä¸²åç¨±è¡¨é”è©²æŒ‰éµï¼Œä¾‹å¦‚ï¼š <code>ArrowUp</code>ã€‚</li>
<li><code>keyCode</code>ï¼Œä½¿ç”¨æ•¸å­—å‘ˆç¾ï¼Œä¾‹å¦‚ <code>37</code> æœƒå°æ‡‰åˆ° <code>ArrowLeft</code>ã€‚</li>
</ul>
<p>âœ… é™¤äº†éŠæˆ²é–‹ç™¼ä»¥å¤–ï¼Œéµç›¤äº‹ä»¶ä¹Ÿæ˜¯ååˆ†å¯¦ç”¨çš„åŠŸèƒ½ã€‚ä½ èƒ½æƒ³åˆ°å…¶ä»–ä½¿ç”¨ç›¸åŒæŠ€è¡“çš„æ‡‰ç”¨å—ï¼Ÿ</p>
<h3 id="ç‰¹æ®ŠæŒ‰éµä¹‹é™åˆ¶">ç‰¹æ®ŠæŒ‰éµä¹‹é™åˆ¶</h3>
<p>æœ‰è¨±å¤š<em>ç‰¹æ®Š</em>æŒ‰éµæœƒå½±éŸ¿è¦–çª—ã€‚é€™ä»£è¡¨è‹¥æˆ‘å€‘æ­£ç›£è½è‘— <code>keyup</code> äº‹ä»¶ï¼Œé€™å€‹æŒ‰éµåŒæ™‚ä¹ŸæœƒåŸ·è¡Œè¦–çª—çš„æ»¾å‹•è¡Œç‚ºã€‚æŸäº›æ™‚å€™ä½ æœƒéœ€è¦<em>é—œé–‰</em>é€™äº›ç€è¦½å™¨ä¸­é è¨­çš„è¡Œç‚ºï¼Œå¥½æ¯”æ˜¯å»ºç«‹é€™æ¬¾éŠæˆ²æ™‚ã€‚ä½ éœ€è¦ä¸‹åˆ—çš„ç¨‹å¼ï¼š</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">let</span> onKeyDown <span class="op">=</span> <span class="kw">function</span> (e) <span class="op">{</span></a>
<a class="sourceLine" id="cb3-2" title="2">  <span class="va">console</span>.<span class="at">log</span>(<span class="va">e</span>.<span class="at">keyCode</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-3" title="3">  <span class="cf">switch</span> (<span class="va">e</span>.<span class="at">keyCode</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb3-4" title="4">    <span class="cf">case</span> <span class="dv">37</span><span class="op">:</span></a>
<a class="sourceLine" id="cb3-5" title="5">    <span class="cf">case</span> <span class="dv">39</span><span class="op">:</span></a>
<a class="sourceLine" id="cb3-6" title="6">    <span class="cf">case</span> <span class="dv">38</span><span class="op">:</span></a>
<a class="sourceLine" id="cb3-7" title="7">    <span class="cf">case</span> <span class="dv">40</span><span class="op">:</span> <span class="co">// æ–¹å‘éµ</span></a>
<a class="sourceLine" id="cb3-8" title="8">    <span class="cf">case</span> <span class="dv">32</span><span class="op">:</span></a>
<a class="sourceLine" id="cb3-9" title="9">      <span class="va">e</span>.<span class="at">preventDefault</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb3-10" title="10">      <span class="cf">break</span><span class="op">;</span> <span class="co">// ç©ºç™½éµ</span></a>
<a class="sourceLine" id="cb3-11" title="11">    <span class="cf">default</span><span class="op">:</span></a>
<a class="sourceLine" id="cb3-12" title="12">      <span class="cf">break</span><span class="op">;</span> <span class="co">// ä¸é˜»æ­¢å…¶ä»–æŒ‰éµ</span></a>
<a class="sourceLine" id="cb3-13" title="13">  <span class="op">}</span></a>
<a class="sourceLine" id="cb3-14" title="14"><span class="op">};</span></a>
<a class="sourceLine" id="cb3-15" title="15"></a>
<a class="sourceLine" id="cb3-16" title="16"><span class="va">window</span>.<span class="at">addEventListener</span>(<span class="st">&#39;keydown&#39;</span><span class="op">,</span> onKeyDown)<span class="op">;</span></a></code></pre></div>
<p>ä¸Šè¿°çš„ç¨‹å¼ç¢¼èƒ½ç¢ºä¿æ–¹å‘éµèˆ‡ç©ºç™½éµé—œé–‰<em>é è¨­</em>çš„è¡Œç‚ºã€‚é€™å€‹<em>é—œé–‰</em>æ©Ÿåˆ¶æœƒåœ¨æˆ‘å€‘å‘¼å« <code>e.preventDefault()</code> æ™‚è§¸ç™¼ã€‚</p>
<h2 id="éŠæˆ²å…§å»ºçš„ç§»å‹•">éŠæˆ²å…§å»ºçš„ç§»å‹•</h2>
<p>æˆ‘å€‘å¯ä»¥è®“ç‰©ä»¶è‡ªå·±ç§»å‹•ï¼Œåˆ©ç”¨è¨ˆæ™‚å™¨å¦‚ <code>setTimeout()</code> æˆ–æ˜¯ <code>setInterval()</code> é€™å…©å€‹å‡½å¼ï¼Œéš¨è‘—ç§’æ•¸é–“éš”æ›´æ–°ç‰©ä»¶çš„ä½ç½®ã€‚å¦‚ä¸‹æ–¹å‘ˆç¾ï¼š</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">let</span> id <span class="op">=</span> <span class="at">setInterval</span>(() <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-2" title="2">  <span class="co">// åœ¨ y è»¸ä¸Šç§»å‹•æ•µäºº</span></a>
<a class="sourceLine" id="cb4-3" title="3">  <span class="va">enemy</span>.<span class="at">y</span> <span class="op">+=</span> <span class="dv">10</span><span class="op">;</span></a>
<a class="sourceLine" id="cb4-4" title="4"><span class="op">}</span>)</a></code></pre></div>
<h2 id="éŠæˆ²è¿´åœˆ">éŠæˆ²è¿´åœˆ</h2>
<p>éŠæˆ²è¿´åœˆæ˜¯å€‹é‡è¦æ¦‚å¿µï¼Œå®šæœŸåœ°å‘¼å«å¿…é ˆåŸ·è¡Œçš„å‡½å¼ã€‚ä¹‹æ‰€ä»¥è¢«ç¨±ä½œéŠæˆ²è¿´åœˆä¹Ÿæ˜¯åŸºæ–¼æ‰€æœ‰æ±è¥¿æœƒåœ¨ä¸€å€‹è¿´åœˆä¸­å‘ˆç¾çµ¦ç©å®¶ã€‚éŠæˆ²è¿´åœˆæœƒåˆ©ç”¨åˆ°æ‰€æœ‰çš„éŠæˆ²ç‰©ä»¶ï¼Œä¸¦ä¾æ“šå„å€‹æƒ…æ³èˆ‡ç†ç”±æ±ºå®šæ˜¯å¦è¦ç¹ªè£½å‡ºå®ƒå€‘ã€‚èˆ‰ä¾‹ä¾†èªªï¼Œç•¶ä¸€å€‹æ•µäººè¢«é›·å°„æ“Šä¸­ï¼Œçˆ†ç‚¸äº†ã€‚ä»–å°±ä¸æ‡‰è©²å­˜åœ¨æ–¼ç¾åœ¨çš„éŠæˆ²è¿´åœˆä¸­ã€‚ä½ æœƒåœ¨å¾ŒçºŒçš„èª²ç¨‹å­¸åˆ°æ›´å¤šæ­¤æ¦‚å¿µã€‚</p>
<p>é€™æ˜¯ä¸€å€‹éŠæˆ²è¿´åœˆçš„åŸºæœ¬æ ¼å¼ï¼Œä»¥ç¨‹å¼ç¢¼è¡¨é”å¦‚ä¸‹ï¼š</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">let</span> gameLoopId <span class="op">=</span> <span class="at">setInterval</span>(() <span class="kw">=&gt;</span></a>
<a class="sourceLine" id="cb5-2" title="2">  <span class="kw">function</span> <span class="at">gameLoop</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb5-3" title="3">    <span class="va">ctx</span>.<span class="at">clearRect</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="va">canvas</span>.<span class="at">width</span><span class="op">,</span> <span class="va">canvas</span>.<span class="at">height</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-4" title="4">    <span class="va">ctx</span>.<span class="at">fillStyle</span> <span class="op">=</span> <span class="st">&quot;black&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-5" title="5">    <span class="va">ctx</span>.<span class="at">fillRect</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="va">canvas</span>.<span class="at">width</span><span class="op">,</span> <span class="va">canvas</span>.<span class="at">height</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-6" title="6">    <span class="at">drawHero</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb5-7" title="7">    <span class="at">drawEnemies</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb5-8" title="8">    <span class="at">drawStaticObjects</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb5-9" title="9"><span class="op">},</span> <span class="dv">200</span>)<span class="op">;</span></a></code></pre></div>
<p>ä¸Šè¿°çš„è¿´åœˆæœƒæ¯ <code>200</code> æ¯«ç§’é‡æ–°ç¹ªè£½ Canvasã€‚ä½ èƒ½è‡ªç”±åœ°åˆ¤æ–·å“ªç¨®æ™‚é•·æ›´é©åˆå¥—ç”¨åœ¨ä½ çš„éŠæˆ²ä¸­ã€‚</p>
<h2 id="ç¹¼çºŒæˆ‘å€‘çš„å¤ªç©ºéŠæˆ²">ç¹¼çºŒæˆ‘å€‘çš„å¤ªç©ºéŠæˆ²</h2>
<p>ä½ æœƒåˆ©ç”¨ç¾æœ‰çš„ç¨‹å¼ç¢¼ä¾†æ“´å¢æˆ‘å€‘çš„å°ˆæ¡ˆã€‚ä½ å¯ä»¥ä½¿ç”¨ä½ åœ¨ Part I å®Œæˆçš„ç¨‹å¼ï¼Œæˆ–æ˜¯ä½¿ç”¨ <a href="../your-work">Part II - Starter</a> é€™åŒ…ç¨‹å¼ã€‚</p>
<ul>
<li><strong>ç§»å‹•è‹±é›„</strong>ï¼šä½ éœ€è¦åŠ å…¥ç¨‹å¼ï¼Œç¢ºä¿ä½ å¯ä»¥ä½¿ç”¨æ–¹å‘éµä¾†ç§»å‹•ä¸»è§’ã€‚</li>
<li><strong>ç§»å‹•æ•µäºº</strong>ï¼šä½ ä¹Ÿéœ€è¦åŠ å…¥ç¨‹å¼ï¼Œç¢ºä¿æ•µäººèƒ½å®šæœŸåœ°ç”±ä¸Šå¾€ä¸‹ç§»å‹•ã€‚</li>
</ul>
<h2 id="å»ºè­°æ­¥é©Ÿ">å»ºè­°æ­¥é©Ÿ</h2>
<p>åœ¨ä½ çš„ <code>your-work</code> å­è³‡æ–™å¤¾ä¸­ï¼Œç¢ºèªæª”æ¡ˆæ˜¯å¦å»ºç«‹å®Œæˆã€‚å®ƒæ‡‰è©²åŒ…æ‹¬ï¼š</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb6-1" title="1"><span class="ex">-</span><span class="kw">|</span> <span class="ex">assets</span></a>
<a class="sourceLine" id="cb6-2" title="2">  <span class="ex">-</span><span class="kw">|</span> <span class="ex">enemyShip.png</span></a>
<a class="sourceLine" id="cb6-3" title="3">  <span class="ex">-</span><span class="kw">|</span> <span class="ex">player.png</span></a>
<a class="sourceLine" id="cb6-4" title="4"><span class="ex">-</span><span class="kw">|</span> <span class="ex">index.html</span></a>
<a class="sourceLine" id="cb6-5" title="5"><span class="ex">-</span><span class="kw">|</span> <span class="ex">app.js</span></a>
<a class="sourceLine" id="cb6-6" title="6"><span class="ex">-</span><span class="kw">|</span> <span class="ex">package.json</span></a></code></pre></div>
<p>é–‹å§‹ <code>your_work</code> è³‡æ–™å¤¾ä¸­çš„å°ˆæ¡ˆï¼Œè¼¸å…¥ï¼š</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb7-1" title="1"><span class="bu">cd</span> your-work</a>
<a class="sourceLine" id="cb7-2" title="2"><span class="ex">npm</span> start</a></code></pre></div>
<p>é€™æœƒå•Ÿå‹• HTTP ä¼ºæœå™¨ä¸¦ç™¼å¸ƒç¶²å€ <code>http://localhost:5000</code>ã€‚é–‹å•Ÿç€è¦½å™¨ä¸¦è¼¸å…¥è©²ç¶²å€ï¼Œç¾åœ¨å®ƒèƒ½å‘ˆç¾è‹±é›„ä»¥åŠæ‰€æœ‰çš„æ•µäººï¼Œä½†å®ƒå€‘é‚„æ²’è¾¦æ³•ç§»å‹•ï¼</p>
<h3 id="åŠ å…¥ç¨‹å¼ç¢¼">åŠ å…¥ç¨‹å¼ç¢¼</h3>
<ol type="1">
<li><p><strong>åŠ å…¥ç‰¹å®šç‰©ä»¶</strong> <code>hero</code>ã€<code>enemy</code> å’Œ <code>game object</code>ï¼Œå®ƒå€‘çš†æœ‰ <code>x</code> èˆ‡ <code>y</code> ä½ç½®å±¬æ€§ã€‚(è¨˜å¾—èª²ç¨‹<a href="../../README.zh-tw.md">ç¹¼æ‰¿èˆ‡çµ„åˆ</a>ä¸­çš„ç‰‡æ®µ)ã€‚</p>
<p><em>æç¤º</em> <code>game object</code> è¦æœ‰ <code>x</code> å’Œ <code>y</code>ï¼Œä»¥åŠç¹ªè£½åˆ°ç•«å¸ƒä¸Šçš„èƒ½åŠ›ã€‚</p>
<blockquote>
<p>è¦é»ï¼šé–‹å§‹å»ºç«‹ GameObject class ï¼Œçµæ§‹å¦‚ä¸‹æ‰€ç¤ºï¼Œå†ç¹ªè£½åˆ°ç•«å¸ƒä¸Šï¼š</p>
</blockquote>
<div class="sourceCode" id="cb8"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb8-1" title="1"></a>
<a class="sourceLine" id="cb8-2" title="2"><span class="kw">class</span> GameObject <span class="op">{</span></a>
<a class="sourceLine" id="cb8-3" title="3">  <span class="at">constructor</span>(x<span class="op">,</span> y) <span class="op">{</span></a>
<a class="sourceLine" id="cb8-4" title="4">    <span class="kw">this</span>.<span class="at">x</span> <span class="op">=</span> x<span class="op">;</span></a>
<a class="sourceLine" id="cb8-5" title="5">    <span class="kw">this</span>.<span class="at">y</span> <span class="op">=</span> y<span class="op">;</span></a>
<a class="sourceLine" id="cb8-6" title="6">    <span class="kw">this</span>.<span class="at">dead</span> <span class="op">=</span> <span class="kw">false</span><span class="op">;</span></a>
<a class="sourceLine" id="cb8-7" title="7">    <span class="kw">this</span>.<span class="at">type</span> <span class="op">=</span> <span class="st">&quot;&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb8-8" title="8">    <span class="kw">this</span>.<span class="at">width</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb8-9" title="9">    <span class="kw">this</span>.<span class="at">height</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb8-10" title="10">    <span class="kw">this</span>.<span class="at">img</span> <span class="op">=</span> <span class="kw">undefined</span><span class="op">;</span></a>
<a class="sourceLine" id="cb8-11" title="11">  <span class="op">}</span></a>
<a class="sourceLine" id="cb8-12" title="12"></a>
<a class="sourceLine" id="cb8-13" title="13">  <span class="at">draw</span>(ctx) <span class="op">{</span></a>
<a class="sourceLine" id="cb8-14" title="14">    <span class="va">ctx</span>.<span class="at">drawImage</span>(<span class="kw">this</span>.<span class="at">img</span><span class="op">,</span> <span class="kw">this</span>.<span class="at">x</span><span class="op">,</span> <span class="kw">this</span>.<span class="at">y</span><span class="op">,</span> <span class="kw">this</span>.<span class="at">width</span><span class="op">,</span> <span class="kw">this</span>.<span class="at">height</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb8-15" title="15">  <span class="op">}</span></a>
<a class="sourceLine" id="cb8-16" title="16"><span class="op">}</span></a></code></pre></div>
<p>ç¾åœ¨ï¼Œå»¶ä¼¸ GameObject ä¾†å»ºç«‹è‹±é›„èˆ‡æ•µäººã€‚</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb9-1" title="1"><span class="kw">class</span> Hero <span class="kw">extends</span> GameObject <span class="op">{</span></a>
<a class="sourceLine" id="cb9-2" title="2">  <span class="at">constructor</span>(x<span class="op">,</span> y) <span class="op">{</span></a>
<a class="sourceLine" id="cb9-3" title="3">    ...<span class="at">it</span> needs an x<span class="op">,</span> y<span class="op">,</span> type<span class="op">,</span> and speed</a>
<a class="sourceLine" id="cb9-4" title="4">  <span class="op">}</span></a>
<a class="sourceLine" id="cb9-5" title="5"><span class="op">}</span></a></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb10-1" title="1"><span class="kw">class</span> Enemy <span class="kw">extends</span> GameObject <span class="op">{</span></a>
<a class="sourceLine" id="cb10-2" title="2">  <span class="at">constructor</span>(x<span class="op">,</span> y) <span class="op">{</span></a>
<a class="sourceLine" id="cb10-3" title="3">    <span class="kw">super</span>(x<span class="op">,</span> y)<span class="op">;</span></a>
<a class="sourceLine" id="cb10-4" title="4">    (<span class="kw">this</span>.<span class="at">width</span> <span class="op">=</span> <span class="dv">98</span>)<span class="op">,</span> (<span class="kw">this</span>.<span class="at">height</span> <span class="op">=</span> <span class="dv">50</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb10-5" title="5">    <span class="kw">this</span>.<span class="at">type</span> <span class="op">=</span> <span class="st">&quot;Enemy&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb10-6" title="6">    <span class="kw">let</span> id <span class="op">=</span> <span class="at">setInterval</span>(() <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb10-7" title="7">      <span class="cf">if</span> (<span class="kw">this</span>.<span class="at">y</span> <span class="op">&lt;</span> <span class="va">canvas</span>.<span class="at">height</span> <span class="op">-</span> <span class="kw">this</span>.<span class="at">height</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb10-8" title="8">        <span class="kw">this</span>.<span class="at">y</span> <span class="op">+=</span> <span class="dv">5</span><span class="op">;</span></a>
<a class="sourceLine" id="cb10-9" title="9">      <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb10-10" title="10">        <span class="va">console</span>.<span class="at">log</span>(<span class="st">&#39;Stopped at&#39;</span><span class="op">,</span> <span class="kw">this</span>.<span class="at">y</span>)</a>
<a class="sourceLine" id="cb10-11" title="11">        <span class="at">clearInterval</span>(id)<span class="op">;</span></a>
<a class="sourceLine" id="cb10-12" title="12">      <span class="op">}</span></a>
<a class="sourceLine" id="cb10-13" title="13">    <span class="op">},</span> <span class="dv">300</span>)</a>
<a class="sourceLine" id="cb10-14" title="14">  <span class="op">}</span></a>
<a class="sourceLine" id="cb10-15" title="15"><span class="op">}</span></a></code></pre></div></li>
<li><p><strong>åŠ å…¥éµç›¤äº‹ä»¶è™•ç†å™¨</strong>ä»¥è™•ç†éµç›¤è¼¸å…¥(ç§»å‹•è‹±é›„çš„ä¸Šä¸‹å·¦å³)</p>
<p><em>è¨˜ä½</em> é€™æ˜¯ç¬›å¡çˆ¾åº§æ¨™ç³»ï¼Œå·¦ä¸Šæ–¹ç‚º <code>0,0</code>ã€‚ä¹Ÿè«‹è¨˜å¾—é—œé–‰éµç›¤çš„<em>é è¨­è¡Œç‚º</em></p>
<blockquote>
<p>è¦é»ï¼šå»ºç«‹å‡½å¼ onKeyDown ä¸¦é€£æ¥åˆ°è¦–çª—ä¸­ï¼š</p>
</blockquote>
<div class="sourceCode" id="cb11"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb11-1" title="1"> <span class="kw">let</span> onKeyDown <span class="op">=</span> <span class="kw">function</span> (e) <span class="op">{</span></a>
<a class="sourceLine" id="cb11-2" title="2">       <span class="va">console</span>.<span class="at">log</span>(<span class="va">e</span>.<span class="at">keyCode</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb11-3" title="3">         ...<span class="at">add</span> the code <span class="im">from</span> the lesson above to stop <span class="im">default</span> behavior</a>
<a class="sourceLine" id="cb11-4" title="4">       <span class="op">}</span></a>
<a class="sourceLine" id="cb11-5" title="5"> }<span class="op">;</span></a>
<a class="sourceLine" id="cb11-6" title="6"></a>
<a class="sourceLine" id="cb11-7" title="7"> <span class="va">window</span>.<span class="at">addEventListener</span>(<span class="st">&quot;keydown&quot;</span><span class="op">,</span> onKeyDown)<span class="op">;</span></a></code></pre></div>
<p>é€™æ™‚å€™æª¢æŸ¥ä½ çš„ç€è¦½å™¨å‘½ä»¤æ¬„ï¼Œçœ‹çœ‹æ˜¯å¦èƒ½åµæ¸¬åˆ°éµç›¤è¼¸å…¥ã€‚</p></li>
<li><p><strong>å»ºç«‹</strong><a href="../../README.zh-tw.md">ç™¼å¸ƒè¨‚é–±æ¨¡å¼</a>ï¼Œé€™èƒ½è®“å‰©ä¸‹çš„ç¨‹å¼æ®µè½ä¿æŒä¹¾æ·¨ã€‚</p>
<p>è¦åšåˆ°æ­¤æ­¥é©Ÿï¼Œä½ å¯ä»¥ï¼š</p>
<ol type="1">
<li><p><strong>å»ºç«‹è¦–çª—çš„äº‹ä»¶ç›£è½è€…</strong>ï¼š</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb12-1" title="1"> <span class="va">window</span>.<span class="at">addEventListener</span>(<span class="st">&quot;keyup&quot;</span><span class="op">,</span> (evt) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb12-2" title="2">   <span class="cf">if</span> (<span class="va">evt</span>.<span class="at">key</span> <span class="op">===</span> <span class="st">&quot;ArrowUp&quot;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb12-3" title="3">     <span class="va">eventEmitter</span>.<span class="at">emit</span>(<span class="va">Messages</span>.<span class="at">KEY_EVENT_UP</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb12-4" title="4">   <span class="op">}</span> <span class="cf">else</span> <span class="cf">if</span> (<span class="va">evt</span>.<span class="at">key</span> <span class="op">===</span> <span class="st">&quot;ArrowDown&quot;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb12-5" title="5">     <span class="va">eventEmitter</span>.<span class="at">emit</span>(<span class="va">Messages</span>.<span class="at">KEY_EVENT_DOWN</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb12-6" title="6">   <span class="op">}</span> <span class="cf">else</span> <span class="cf">if</span> (<span class="va">evt</span>.<span class="at">key</span> <span class="op">===</span> <span class="st">&quot;ArrowLeft&quot;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb12-7" title="7">     <span class="va">eventEmitter</span>.<span class="at">emit</span>(<span class="va">Messages</span>.<span class="at">KEY_EVENT_LEFT</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb12-8" title="8">   <span class="op">}</span> <span class="cf">else</span> <span class="cf">if</span> (<span class="va">evt</span>.<span class="at">key</span> <span class="op">===</span> <span class="st">&quot;ArrowRight&quot;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb12-9" title="9">     <span class="va">eventEmitter</span>.<span class="at">emit</span>(<span class="va">Messages</span>.<span class="at">KEY_EVENT_RIGHT</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb12-10" title="10">   <span class="op">}</span></a>
<a class="sourceLine" id="cb12-11" title="11"> <span class="op">}</span>)<span class="op">;</span></a></code></pre></div></li>
<li><p><strong>å»ºç«‹ EventEmitter class</strong> ä»¥ç™¼å¸ƒåŠè¨‚é–±è¨Šæ¯ï¼š</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb13-1" title="1"><span class="kw">class</span> EventEmitter <span class="op">{</span></a>
<a class="sourceLine" id="cb13-2" title="2">  <span class="at">constructor</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb13-3" title="3">    <span class="kw">this</span>.<span class="at">listeners</span> <span class="op">=</span> <span class="op">{};</span></a>
<a class="sourceLine" id="cb13-4" title="4">  <span class="op">}</span></a>
<a class="sourceLine" id="cb13-5" title="5"></a>
<a class="sourceLine" id="cb13-6" title="6">  <span class="at">on</span>(message<span class="op">,</span> listener) <span class="op">{</span></a>
<a class="sourceLine" id="cb13-7" title="7">    <span class="cf">if</span> (<span class="op">!</span><span class="kw">this</span>.<span class="at">listeners</span>[message]) <span class="op">{</span></a>
<a class="sourceLine" id="cb13-8" title="8">      <span class="kw">this</span>.<span class="at">listeners</span>[message] <span class="op">=</span> []<span class="op">;</span></a>
<a class="sourceLine" id="cb13-9" title="9">    <span class="op">}</span></a>
<a class="sourceLine" id="cb13-10" title="10">    <span class="kw">this</span>.<span class="at">listeners</span>[message].<span class="at">push</span>(listener)<span class="op">;</span></a>
<a class="sourceLine" id="cb13-11" title="11">  <span class="op">}</span></a>
<a class="sourceLine" id="cb13-12" title="12"></a>
<a class="sourceLine" id="cb13-13" title="13">  <span class="at">emit</span>(message<span class="op">,</span> payload <span class="op">=</span> <span class="kw">null</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb13-14" title="14">    <span class="cf">if</span> (<span class="kw">this</span>.<span class="at">listeners</span>[message]) <span class="op">{</span></a>
<a class="sourceLine" id="cb13-15" title="15">      <span class="kw">this</span>.<span class="at">listeners</span>[message].<span class="at">forEach</span>((l) <span class="kw">=&gt;</span> <span class="at">l</span>(message<span class="op">,</span> payload))<span class="op">;</span></a>
<a class="sourceLine" id="cb13-16" title="16">    <span class="op">}</span></a>
<a class="sourceLine" id="cb13-17" title="17">  <span class="op">}</span></a>
<a class="sourceLine" id="cb13-18" title="18"><span class="op">}</span></a></code></pre></div></li>
<li><p><strong>å»ºç«‹å¸¸æ•¸</strong>ä¸¦è¨­å®š EventEmitterï¼š</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb14-1" title="1"><span class="kw">const</span> Messages <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb14-2" title="2">  <span class="dt">KEY_EVENT_UP</span><span class="op">:</span> <span class="st">&quot;KEY_EVENT_UP&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb14-3" title="3">  <span class="dt">KEY_EVENT_DOWN</span><span class="op">:</span> <span class="st">&quot;KEY_EVENT_DOWN&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb14-4" title="4">  <span class="dt">KEY_EVENT_LEFT</span><span class="op">:</span> <span class="st">&quot;KEY_EVENT_LEFT&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb14-5" title="5">  <span class="dt">KEY_EVENT_RIGHT</span><span class="op">:</span> <span class="st">&quot;KEY_EVENT_RIGHT&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb14-6" title="6"><span class="op">};</span></a>
<a class="sourceLine" id="cb14-7" title="7"></a>
<a class="sourceLine" id="cb14-8" title="8"><span class="kw">let</span> heroImg<span class="op">,</span> </a>
<a class="sourceLine" id="cb14-9" title="9">    enemyImg<span class="op">,</span> </a>
<a class="sourceLine" id="cb14-10" title="10">    laserImg<span class="op">,</span></a>
<a class="sourceLine" id="cb14-11" title="11">    canvas<span class="op">,</span> ctx<span class="op">,</span> </a>
<a class="sourceLine" id="cb14-12" title="12">    gameObjects <span class="op">=</span> []<span class="op">,</span> </a>
<a class="sourceLine" id="cb14-13" title="13">    hero<span class="op">,</span> </a>
<a class="sourceLine" id="cb14-14" title="14">    eventEmitter <span class="op">=</span> <span class="kw">new</span> <span class="at">EventEmitter</span>()<span class="op">;</span></a></code></pre></div></li>
<li><p><strong>åˆå§‹åŒ–éŠæˆ²</strong></p></li>
</ol>
<div class="sourceCode" id="cb15"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb15-1" title="1"><span class="kw">function</span> <span class="at">initGame</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb15-2" title="2">  gameObjects <span class="op">=</span> []<span class="op">;</span></a>
<a class="sourceLine" id="cb15-3" title="3">  <span class="at">createEnemies</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb15-4" title="4">  <span class="at">createHero</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb15-5" title="5"></a>
<a class="sourceLine" id="cb15-6" title="6">  <span class="va">eventEmitter</span>.<span class="at">on</span>(<span class="va">Messages</span>.<span class="at">KEY_EVENT_UP</span><span class="op">,</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb15-7" title="7">    <span class="va">hero</span>.<span class="at">y</span> <span class="op">-=</span><span class="dv">5</span> <span class="op">;</span></a>
<a class="sourceLine" id="cb15-8" title="8">  <span class="op">}</span>)</a>
<a class="sourceLine" id="cb15-9" title="9"></a>
<a class="sourceLine" id="cb15-10" title="10">  <span class="va">eventEmitter</span>.<span class="at">on</span>(<span class="va">Messages</span>.<span class="at">KEY_EVENT_DOWN</span><span class="op">,</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb15-11" title="11">    <span class="va">hero</span>.<span class="at">y</span> <span class="op">+=</span> <span class="dv">5</span><span class="op">;</span></a>
<a class="sourceLine" id="cb15-12" title="12">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb15-13" title="13"></a>
<a class="sourceLine" id="cb15-14" title="14">  <span class="va">eventEmitter</span>.<span class="at">on</span>(<span class="va">Messages</span>.<span class="at">KEY_EVENT_LEFT</span><span class="op">,</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb15-15" title="15">    <span class="va">hero</span>.<span class="at">x</span> <span class="op">-=</span> <span class="dv">5</span><span class="op">;</span></a>
<a class="sourceLine" id="cb15-16" title="16">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb15-17" title="17"></a>
<a class="sourceLine" id="cb15-18" title="18">  <span class="va">eventEmitter</span>.<span class="at">on</span>(<span class="va">Messages</span>.<span class="at">KEY_EVENT_RIGHT</span><span class="op">,</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb15-19" title="19">    <span class="va">hero</span>.<span class="at">x</span> <span class="op">+=</span> <span class="dv">5</span><span class="op">;</span></a>
<a class="sourceLine" id="cb15-20" title="20">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb15-21" title="21"><span class="op">}</span></a></code></pre></div></li>
<li><p><strong>è¨­å®šéŠæˆ²è¿´åœˆ</strong></p>
<p>é‡æ§‹å‡½å¼ window.onload ä¾†åˆå§‹åŒ–éŠæˆ²ï¼Œè¨­å®šéŠæˆ²è¿´åœˆçš„å®šæ™‚é–“éš”ã€‚ä½ é‚„éœ€è¦åŠ å…¥é›·å°„å…‰ï¼š</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb16-1" title="1"><span class="va">window</span>.<span class="at">onload</span> <span class="op">=</span> <span class="kw">async</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb16-2" title="2">  canvas <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;canvas&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb16-3" title="3">  ctx <span class="op">=</span> <span class="va">canvas</span>.<span class="at">getContext</span>(<span class="st">&quot;2d&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb16-4" title="4">  heroImg <span class="op">=</span> <span class="cf">await</span> <span class="at">loadTexture</span>(<span class="st">&quot;assets/player.png&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb16-5" title="5">  enemyImg <span class="op">=</span> <span class="cf">await</span> <span class="at">loadTexture</span>(<span class="st">&quot;assets/enemyShip.png&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb16-6" title="6">  laserImg <span class="op">=</span> <span class="cf">await</span> <span class="at">loadTexture</span>(<span class="st">&quot;assets/laserRed.png&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb16-7" title="7"></a>
<a class="sourceLine" id="cb16-8" title="8">  <span class="at">initGame</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb16-9" title="9">  <span class="kw">let</span> gameLoopId <span class="op">=</span> <span class="at">setInterval</span>(() <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb16-10" title="10">    <span class="va">ctx</span>.<span class="at">clearRect</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="va">canvas</span>.<span class="at">width</span><span class="op">,</span> <span class="va">canvas</span>.<span class="at">height</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb16-11" title="11">    <span class="va">ctx</span>.<span class="at">fillStyle</span> <span class="op">=</span> <span class="st">&quot;black&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb16-12" title="12">    <span class="va">ctx</span>.<span class="at">fillRect</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="va">canvas</span>.<span class="at">width</span><span class="op">,</span> <span class="va">canvas</span>.<span class="at">height</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb16-13" title="13">    <span class="at">drawGameObjects</span>(ctx)<span class="op">;</span></a>
<a class="sourceLine" id="cb16-14" title="14">  <span class="op">},</span> <span class="dv">100</span>)</a>
<a class="sourceLine" id="cb16-15" title="15"></a>
<a class="sourceLine" id="cb16-16" title="16"><span class="op">};</span></a></code></pre></div></li>
<li><p><strong>åŠ å…¥ç¨‹å¼</strong>ä¾†å®šæœŸåœ°ç§»å‹•æ•µäºº</p>
<p>é‡æ§‹å‡½å¼ <code>createEnemies()</code> ä»¥å»ºç«‹æ•µäººå€‘ï¼Œæ¥åˆ° gameObjects ä¸­ï¼š</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb17-1" title="1"><span class="kw">function</span> <span class="at">createEnemies</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb17-2" title="2">  <span class="kw">const</span> MONSTER_TOTAL <span class="op">=</span> <span class="dv">5</span><span class="op">;</span></a>
<a class="sourceLine" id="cb17-3" title="3">  <span class="kw">const</span> MONSTER_WIDTH <span class="op">=</span> MONSTER_TOTAL <span class="op">*</span> <span class="dv">98</span><span class="op">;</span></a>
<a class="sourceLine" id="cb17-4" title="4">  <span class="kw">const</span> START_X <span class="op">=</span> (<span class="va">canvas</span>.<span class="at">width</span> <span class="op">-</span> MONSTER_WIDTH) / <span class="dv">2</span><span class="op">;</span></a>
<a class="sourceLine" id="cb17-5" title="5">  <span class="kw">const</span> STOP_X <span class="op">=</span> START_X <span class="op">+</span> MONSTER_WIDTH<span class="op">;</span></a>
<a class="sourceLine" id="cb17-6" title="6"></a>
<a class="sourceLine" id="cb17-7" title="7">  <span class="cf">for</span> (<span class="kw">let</span> x <span class="op">=</span> START_X<span class="op">;</span> x <span class="op">&lt;</span> STOP_X<span class="op">;</span> x <span class="op">+=</span> <span class="dv">98</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb17-8" title="8">    <span class="cf">for</span> (<span class="kw">let</span> y <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> y <span class="op">&lt;</span> <span class="dv">50</span> <span class="op">*</span> <span class="dv">5</span><span class="op">;</span> y <span class="op">+=</span> <span class="dv">50</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb17-9" title="9">      <span class="kw">const</span> enemy <span class="op">=</span> <span class="kw">new</span> <span class="at">Enemy</span>(x<span class="op">,</span> y)<span class="op">;</span></a>
<a class="sourceLine" id="cb17-10" title="10">      <span class="va">enemy</span>.<span class="at">img</span> <span class="op">=</span> enemyImg<span class="op">;</span></a>
<a class="sourceLine" id="cb17-11" title="11">      <span class="va">gameObjects</span>.<span class="at">push</span>(enemy)<span class="op">;</span></a>
<a class="sourceLine" id="cb17-12" title="12">    <span class="op">}</span></a>
<a class="sourceLine" id="cb17-13" title="13">  <span class="op">}</span></a>
<a class="sourceLine" id="cb17-14" title="14"><span class="op">}</span></a></code></pre></div>
<p>æ–°å¢å‡½å¼ <code>createHero()</code> ä¾†ç‚ºè‹±é›„åšç›¸åŒçš„äº‹æƒ…ã€‚</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb18-1" title="1"><span class="kw">function</span> <span class="at">createHero</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb18-2" title="2">  hero <span class="op">=</span> <span class="kw">new</span> <span class="at">Hero</span>(</a>
<a class="sourceLine" id="cb18-3" title="3">    <span class="va">canvas</span>.<span class="at">width</span> / <span class="dv">2</span> <span class="op">-</span> <span class="dv">45</span><span class="op">,</span></a>
<a class="sourceLine" id="cb18-4" title="4">    <span class="va">canvas</span>.<span class="at">height</span> <span class="op">-</span> <span class="va">canvas</span>.<span class="at">height</span> / <span class="dv">4</span></a>
<a class="sourceLine" id="cb18-5" title="5">  )<span class="op">;</span></a>
<a class="sourceLine" id="cb18-6" title="6">  <span class="va">hero</span>.<span class="at">img</span> <span class="op">=</span> heroImg<span class="op">;</span></a>
<a class="sourceLine" id="cb18-7" title="7">  <span class="va">gameObjects</span>.<span class="at">push</span>(hero)<span class="op">;</span></a>
<a class="sourceLine" id="cb18-8" title="8"><span class="op">}</span></a></code></pre></div>
<p>æœ€å¾Œï¼Œå»ºç«‹å‡½å¼ <code>drawGameObjects()</code> ä»¥é–‹å§‹ç¹ªè£½ï¼š</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb19-1" title="1"><span class="kw">function</span> <span class="at">drawGameObjects</span>(ctx) <span class="op">{</span></a>
<a class="sourceLine" id="cb19-2" title="2">  <span class="va">gameObjects</span>.<span class="at">forEach</span>(go <span class="kw">=&gt;</span> <span class="va">go</span>.<span class="at">draw</span>(ctx))<span class="op">;</span></a>
<a class="sourceLine" id="cb19-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>ä½ çš„æ•µäººé–‹å§‹æœƒæœä½ çš„è‹±é›„è‰¦è‰‡å‰é€²ï¼</p></li>
</ol>
<hr />
<h2 id="æŒ‘æˆ°">ğŸš€ æŒ‘æˆ°</h2>
<p>å¦‚ä½ æ‰€è¦‹ï¼Œåœ¨åŠ å…¥é›¶é›¶ç¸½ç¸½çš„å‡½å¼ã€è®Šæ•¸èˆ‡ class å¾Œï¼Œä½ çš„ç¨‹å¼è®Šæˆäº†ã€Œéºµæ¢å¼ä»£ç¢¼(spaghetti code)ã€ã€‚ä½ èƒ½æœ‰æ•ˆçš„ç·¨æ’ä½ çš„ç¨‹å¼ï¼Œè®“å®ƒæ›´å®¹æ˜“è¢«é–±è®€ï¼Ÿå‹¾åŠƒå‡ºä¸€å€‹ç³»çµ±ä¾†çµ„ç¹”ä½ çš„ç¨‹å¼ç¢¼ï¼Œå³ä½¿æ‰€æœ‰æ±è¥¿éƒ½åœ¨ä¸€å€‹æª”æ¡ˆä¸­ã€‚</p>
<h2 id="èª²å¾Œæ¸¬é©—">èª²å¾Œæ¸¬é©—</h2>
<p><a href="https://nice-beach-0fe9e9d0f.azurestaticapps.net/quiz/34?loc=zh_tw">èª²å¾Œæ¸¬é©—</a></p>
<h2 id="è¤‡ç¿’èˆ‡è‡ªå­¸">è¤‡ç¿’èˆ‡è‡ªå­¸</h2>
<p>æˆ‘å€‘ä¸¦æ²’æœ‰ä½¿ç”¨æ¡†æ¶(frameworks)ä¾†ç·¨å¯«æˆ‘å€‘çš„éŠæˆ²ï¼Œç¾åœ¨æœ‰è¨±å¤š JavaScript åŸºåº•çš„ Canvas æ¡†æ¶ï¼Œæä¾›çµ¦éŠæˆ²é–‹ç™¼ä½¿ç”¨ã€‚èŠ±é»æ™‚é–“<a href="https://github.com/collections/javascript-game-engines">é–±è®€é€™äº›æ¡†æ¶</a>ã€‚</p>
<h2 id="ä½œæ¥­">ä½œæ¥­</h2>
<p><a href="assignment.zh-tw.md">ç‚ºä½ çš„ç¨‹å¼åšè¨»è§£</a></p>
</body>
</html>
