<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README.ms</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h1 id="membuat-permainan-menggunakan-acara-events">Membuat permainan menggunakan acara (events)</h1>
<h2 id="kuiz-pra-kuliah">Kuiz Pra Kuliah</h2>
<p><a href="https://nice-beach-0fe9e9d0f.azurestaticapps.net/quiz/21">Kuiz Pra Kuliah</a></p>
<h2 id="pengaturcaraan-berdasarkan-acara">Pengaturcaraan berdasarkan acara</h2>
<p>Semasa membuat aplikasi berasaskan penyemak imbas, kami menyediakan antara muka pengguna grafik (GUI) untuk pengguna gunakan ketika berinteraksi dengan apa yang telah kami buat. Cara paling biasa untuk berinteraksi dengan penyemak imbas adalah dengan mengklik dan menaip pelbagai elemen. Cabaran yang kita hadapi sebagai pembangun adalah kita tidak tahu kapan mereka akan melakukan operasi ini!</p>
<p><a href="https://en.wikipedia.org/wiki/Event-driven_programming">Pengaturcaraan berdasarkan acara</a> adalah nama untuk jenis pengaturcaraan yang perlu kita lakukan untuk membuat GUI kita. Sekiranya kita memecahkan frasa ini sedikit, kita akan melihat kata intinya di sini adalah <strong>event</strong>. <a href="https://www.merriam-webster.com/dictionary/event">Event</a>, menurut Merriam-Webster, didefinisikan sebagai ‚Äúsesuatu yang berlaku‚Äù. Ini menggambarkan keadaan kita dengan sempurna. Kami tahu ada sesuatu yang akan berlaku dan kami ingin melaksanakan beberapa kod sebagai tindak balas, tetapi kami tidak tahu kapan ia akan berlaku.</p>
<p>Cara kita menandakan bahagian kod yang ingin kita laksanakan adalah dengan membuat fungsi. Apabila kita memikirkan <a href="https://en.wikipedia.org/wiki/Procedural_programming">pengaturcaraan prosedural</a>, fungsi dipanggil dalam urutan tertentu. Perkara yang sama akan berlaku dengan pengaturcaraan berdasarkan acara. Perbezaannya adalah <strong>bagaimana</strong> fungsi akan dipanggil.</p>
<p>Untuk menangani acara (klik butang, menaip, dll.), Kami mendaftarkan <strong>pendengar acara</strong>. Pendengar peristiwa adalah fungsi yang mendengarkan peristiwa yang berlaku dan dilaksanakan sebagai tindak balas. Pendengar acara boleh mengemas kini UI, membuat panggilan ke pelayan, atau apa sahaja yang perlu dilakukan sebagai tindak balas terhadap tindakan pengguna. Kami menambahkan pendengar acara dengan menggunakan <a href="https://developer.mozilla.org/docs/Web/API/EventTarget/addEventListener">addEventListener</a>, dan menyediakan fungsi untuk dilaksanakan.</p>
<blockquote>
<p><strong>CATATAN:</strong> Perlu dinyatakan bahawa terdapat banyak cara untuk membuat pendengar acara. Anda boleh menggunakan fungsi tanpa nama, atau membuat fungsi yang dinamakan. Anda boleh menggunakan pelbagai jalan pintas, seperti menetapkan sifat <code>klik</code>, atau menggunakan<code>addEventListener</code>. Dalam latihan kami, kami akan menumpukan pada fungsi <code>addEventLister</code> dan anonim, kerana mungkin teknik yang paling biasa digunakan oleh pembangun web. Ini juga paling fleksibel, kerana <code>addEventListener</code> berfungsi untuk semua acara, dan nama acara dapat diberikan sebagai parameter.</p>
</blockquote>
<h3 id="acara-biasa">Acara biasa</h3>
<p>Terdapat <a href="https://developer.mozilla.org/docs/Web/Events">puluhan acara</a> yang tersedia untuk anda dengarkan semasa membuat aplikasi. Pada asasnya apa sahaja yang dilakukan pengguna pada halaman menimbulkan peristiwa, yang memberi anda banyak kekuatan untuk memastikan mereka mendapat pengalaman yang anda inginkan. Nasib baik, anda biasanya hanya memerlukan sebilangan kecil acara. Berikut adalah beberapa perkara biasa (termasuk dua yang akan kami gunakan semasa membuat permainan kami):</p>
<ul>
<li><a href="https://developer.mozilla.org/docs/Web/API/Element/click_event">click</a>: Pengguna mengklik sesuatu, biasanya butang atau hyperlink</li>
<li><a href="https://developer.mozilla.org/docs/Web/API/Element/contextmenu_event">contextmenu</a>: Pengguna mengklik butang tetikus kanan</li>
<li><a href="https://developer.mozilla.org/docs/Web/API/Element/select_event">select</a>: Pengguna menyoroti beberapa teks</li>
<li><a href="https://developer.mozilla.org/docs/Web/API/Element/input_event">input</a>: Pengguna memasukkan beberapa teks</li>
</ul>
<h2 id="membuat-permainan">Membuat permainan</h2>
<p>Kami akan membuat permainan untuk meneroka bagaimana acara berfungsi dalam JavaScript. Permainan kami akan menguji kemahiran menaip pemain, yang merupakan salah satu kemahiran paling rendah yang harus dimiliki oleh pemaju. Kita semua mesti berlatih menaip kita! Aliran umum permainan akan kelihatan seperti ini:</p>
<ul>
<li>Pemain mengklik butang mula dan disertakan dengan petikan untuk menaip</li>
<li>Pemain menaip petikan secepat mungkin di kotak teks
<ul>
<li>Apabila setiap perkataan selesai, yang berikutnya diserlahkan</li>
<li>Sekiranya pemain mempunyai kesalahan ketik, kotak teks dikemas kini menjadi merah</li>
<li>Apabila pemain menyelesaikan petikan, mesej kejayaan akan dipaparkan dengan masa yang berlalu</li>
</ul></li>
</ul>
<p>Mari membina permainan kami, dan belajar tentang acara!</p>
<h3 id="struktur-fail">Struktur fail</h3>
<p>Kami memerlukan tiga jumlah fail: <strong>index.html</strong>, <strong>script.js</strong> dan <strong>style.css</strong>. Mari mulakan dengan menetapkannya untuk menjadikan hidup lebih mudah bagi kita.</p>
<ul>
<li>Buat folder baru untuk kerja anda dengan membuka tetingkap konsol atau terminal dan mengeluarkan perintah berikut:</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" title="1"><span class="co"># Linux or macOS</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="fu">mkdir</span> typing-game <span class="kw">&amp;&amp;</span> <span class="bu">cd</span> typing-game</a>
<a class="sourceLine" id="cb1-3" title="3"></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="co"># Windows</span></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="ex">md</span> typing-game <span class="kw">&amp;&amp;</span> <span class="bu">cd</span> typing-game</a></code></pre></div>
<ul>
<li>Buka Visual Studio Code</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb2-1" title="1"><span class="ex">code</span> .</a></code></pre></div>
<ul>
<li>Tambahkan tiga fail ke folder dalam Visual Studio Code dengan nama berikut:
<ul>
<li>index.html</li>
<li>skrip.js</li>
<li>style.css</li>
</ul></li>
</ul>
<h2 id="buat-antara-muka-pengguna-user-interface">Buat antara muka pengguna (user interface)</h2>
<p>Sekiranya kita meneliti syarat-syaratnya, kita tahu kita akan memerlukan segelintir elemen di halaman HTML kita. Ini seperti resipi, di mana kita memerlukan beberapa ramuan:</p>
<ul>
<li>Di suatu tempat untuk memaparkan petikan untuk pengguna menaip</li>
<li>Di suatu tempat untuk memaparkan sebarang mesej, seperti mesej kejayaan</li>
<li>Kotak teks untuk menaip</li>
<li>Butang mula</li>
</ul>
<p>Masing-masing memerlukan ID supaya kita dapat bekerja dengannya dalam JavaScript kita. Kami juga akan menambahkan rujukan ke fail CSS dan JavaScript yang akan kami buat.</p>
<p>Buat fail baru bernama <strong>index.html</strong>. Tambahkan HTML berikut:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb3-1" title="1"><span class="co">&lt;!-- inside index.html --&gt;</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="kw">&lt;html&gt;</span></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="kw">&lt;head&gt;</span></a>
<a class="sourceLine" id="cb3-4" title="4">  <span class="kw">&lt;title&gt;</span>Typing game<span class="kw">&lt;/title&gt;</span></a>
<a class="sourceLine" id="cb3-5" title="5">  <span class="kw">&lt;link</span><span class="ot"> rel=</span><span class="st">&quot;stylesheet&quot;</span><span class="ot"> href=</span><span class="st">&quot;style.css&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb3-6" title="6"><span class="kw">&lt;/head&gt;</span></a>
<a class="sourceLine" id="cb3-7" title="7"><span class="kw">&lt;body&gt;</span></a>
<a class="sourceLine" id="cb3-8" title="8">  <span class="kw">&lt;h1&gt;</span>Typing game!<span class="kw">&lt;/h1&gt;</span></a>
<a class="sourceLine" id="cb3-9" title="9">  <span class="kw">&lt;p&gt;</span>Practice your typing skills with a quote from Sherlock Holmes. Click **start** to begin!<span class="kw">&lt;/p&gt;</span></a>
<a class="sourceLine" id="cb3-10" title="10">  <span class="kw">&lt;p</span><span class="ot"> id=</span><span class="st">&quot;quote&quot;</span><span class="kw">&gt;&lt;/p&gt;</span> <span class="co">&lt;!-- This will display our quote --&gt;</span></a>
<a class="sourceLine" id="cb3-11" title="11">  <span class="kw">&lt;p</span><span class="ot"> id=</span><span class="st">&quot;message&quot;</span><span class="kw">&gt;&lt;/p&gt;</span> <span class="co">&lt;!-- This will display any status messages --&gt;</span></a>
<a class="sourceLine" id="cb3-12" title="12">  <span class="kw">&lt;div&gt;</span></a>
<a class="sourceLine" id="cb3-13" title="13">    <span class="kw">&lt;input</span><span class="ot"> type=</span><span class="st">&quot;text&quot;</span><span class="ot"> aria-label=</span><span class="st">&quot;current word&quot;</span><span class="ot"> id=</span><span class="st">&quot;typed-value&quot;</span> <span class="kw">/&gt;</span> <span class="co">&lt;!-- The textbox for typing --&gt;</span></a>
<a class="sourceLine" id="cb3-14" title="14">    <span class="kw">&lt;button</span><span class="ot"> type=</span><span class="st">&quot;button&quot;</span><span class="ot"> id=</span><span class="st">&quot;start&quot;</span><span class="kw">&gt;</span>Start<span class="kw">&lt;/button&gt;</span> <span class="co">&lt;!-- To start the game --&gt;</span></a>
<a class="sourceLine" id="cb3-15" title="15">  <span class="kw">&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb3-16" title="16">  <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;script.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></a>
<a class="sourceLine" id="cb3-17" title="17"><span class="kw">&lt;/body&gt;</span></a>
<a class="sourceLine" id="cb3-18" title="18"><span class="kw">&lt;/html&gt;</span></a></code></pre></div>
<h2 id="lancarkan-aplikasi">Lancarkan aplikasi</h2>
<p>Adalah lebih baik untuk mengembangkannya secara berulang untuk melihat bagaimana keadaannya. Mari melancarkan aplikasi kami. Terdapat peluasan hebat untuk Visual Studio Code yang disebut <a href="https://marketplace.visualstudio.com/items?itemName=ritwickdey.LiveServer">Live Server</a> yang akan menghoskan aplikasi anda secara tempatan dan menyegarkan penyemak imbas setiap kali anda menyimpan.</p>
<ul>
<li>Pasang <a href="https://marketplace.visualstudio.com/items?itemName=ritwickdey.LiveServer">Live Server</a> dengan mengikuti pautan dan mengklik <strong>Install</strong>
<ul>
<li>Anda akan diminta oleh penyemak imbas untuk membuka Kod Visual Studio, dan kemudian oleh Kod Visual Studio untuk melakukan pemasangan</li>
<li>Mulakan semula Kod Visual Studio jika diminta</li>
</ul></li>
<li>Setelah dipasang, dalam Visual Studio Code, klik Ctrl-Shift-P (atau Cmd-Shift-P) untuk membuka perintah pallate</li>
<li>Taip <strong>Pelayan Langsung: Buka dengan Pelayan Langsung</strong>
<ul>
<li>Live Server akan mula menghoskan aplikasi anda</li>
</ul></li>
<li>Buka penyemak imbas dan arahkan ke <strong>https: // localhost: 5500</strong></li>
<li>Anda kini harus melihat halaman yang anda buat!</li>
</ul>
<p>Mari tambahkan beberapa fungsi.</p>
<h2 id="tambah-css">Tambah CSS</h2>
<p>Dengan HTML kami dibuat, mari tambahkan CSS untuk gaya inti. Kita perlu mengetengahkan perkataan yang harus ditaip oleh pemain, dan mewarnakan kotak teks jika apa yang mereka taipkan tidak betul. Kami akan melakukan ini dengan dua kelas.</p>
<p>Buat fail baru bernama <strong>style.css</strong> dan tambahkan sintaks berikut.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode css"><code class="sourceCode css"><a class="sourceLine" id="cb4-1" title="1"><span class="co">/* dalam style.css */</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="fu">.highlight</span> {</a>
<a class="sourceLine" id="cb4-3" title="3">  <span class="kw">background-color</span>: <span class="cn">yellow</span><span class="op">;</span></a>
<a class="sourceLine" id="cb4-4" title="4">}</a>
<a class="sourceLine" id="cb4-5" title="5"></a>
<a class="sourceLine" id="cb4-6" title="6"><span class="fu">.error</span> {</a>
<a class="sourceLine" id="cb4-7" title="7">  <span class="kw">background-color</span>: <span class="cn">lightcoral</span><span class="op">;</span></a>
<a class="sourceLine" id="cb4-8" title="8">  <span class="kw">border</span>: <span class="cn">red</span><span class="op">;</span></a>
<a class="sourceLine" id="cb4-9" title="9">}</a></code></pre></div>
<p>‚úÖ Ketika datang ke CSS, anda boleh mengatur halaman anda sesuka hati. Luangkan sedikit masa dan buat halaman kelihatan lebih menarik:</p>
<ul>
<li>Pilih fon yang berbeza</li>
<li>Warnakan tajuk</li>
<li>Ubah saiz item</li>
</ul>
<h2 id="javascript">JavaScript</h2>
<p>Dengan UI kami dibuat, inilah masanya untuk menumpukan perhatian kami pada JavaScript yang akan memberikan logik. Kami akan membahagikannya kepada beberapa langkah:</p>
<ul>
<li><a href="#tambah-pemalar">Buat pemalar</a></li>
<li><a href="#add-start-logic">Pendengar acara untuk memulakan permainan</a></li>
<li><a href="#add-typing-logic">Pendengar acara untuk menaip</a></li>
</ul>
<p>Tetapi pertama, buat fail baru bernama <strong>script.js</strong>.</p>
<h3 id="tambahkan-pemalar">Tambahkan pemalar</h3>
<p>Kita akan memerlukan beberapa item untuk menjadikan kehidupan kita lebih mudah untuk pengaturcaraan. Sekali lagi, serupa dengan resipi, inilah yang kita perlukan:</p>
<ul>
<li>Susun dengan senarai semua petikan</li>
<li>Susunan kosong untuk menyimpan semua perkataan untuk petikan semasa</li>
<li>Ruang untuk menyimpan indeks kata pemain sedang menaip</li>
<li>Masa pemain mengklik permulaan</li>
</ul>
<p>Kami juga mahu rujukan ke elemen UI:</p>
<ul>
<li>Kotak teks (<strong>nilai taip</strong>)</li>
<li>Paparan petikan (<strong>petikan</strong>)</li>
<li>Mesej (<strong>mesej</strong>)</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="co">// dalam script.js</span></a>
<a class="sourceLine" id="cb5-2" title="2"><span class="co">// semua quotes</span></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="kw">const</span> quotes <span class="op">=</span> [</a>
<a class="sourceLine" id="cb5-4" title="4">    <span class="st">&#39;When you have eliminated the impossible, whatever remains, however improbable, must be the truth.&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb5-5" title="5">    <span class="st">&#39;There is nothing more deceptive than an obvious fact.&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb5-6" title="6">    <span class="st">&#39;I ought to know by this time that when a fact appears to be opposed to a long train of deductions it invariably proves to be capable of bearing some other interpretation.&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb5-7" title="7">    <span class="st">&#39;I never make exceptions. An exception disproves the rule.&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb5-8" title="8">    <span class="st">&#39;What one man can invent another can discover.&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb5-9" title="9">    <span class="st">&#39;Nothing clears up a case so much as stating it to another person.&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb5-10" title="10">    <span class="st">&#39;Education never ends, Watson. It is a series of lessons, with the greatest for the last.&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb5-11" title="11">]<span class="op">;</span></a>
<a class="sourceLine" id="cb5-12" title="12"><span class="co">// simpan senarai perkataan dan indeks perkataan yang sedang ditaip pemain</span></a>
<a class="sourceLine" id="cb5-13" title="13"><span class="kw">let</span> words <span class="op">=</span> []<span class="op">;</span></a>
<a class="sourceLine" id="cb5-14" title="14"><span class="kw">let</span> wordIndex <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-15" title="15"><span class="co">// masa permulaan</span></a>
<a class="sourceLine" id="cb5-16" title="16"><span class="kw">let</span> startTime <span class="op">=</span> <span class="va">Date</span>.<span class="at">now</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb5-17" title="17"><span class="co">// elemen halaman</span></a>
<a class="sourceLine" id="cb5-18" title="18"><span class="kw">const</span> quoteElement <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&#39;quote&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-19" title="19"><span class="kw">const</span> messageElement <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&#39;message&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-20" title="20"><span class="kw">const</span> typedValueElement <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&#39;typed-value&#39;</span>)<span class="op">;</span></a></code></pre></div>
<p>‚úÖ Teruskan dan tambahkan lebih banyak petikan ke permainan anda</p>
<blockquote>
<p>** CATATAN: ** Kami dapat mengambil elemen bila-bila masa yang kami mahukan dalam kod dengan menggunakan <code>document.getElementById</code>. Oleh kerana hakikatnya kita akan merujuk unsur-unsur ini secara berkala, kita akan mengelakkan kesalahan ketik dengan literal string dengan menggunakan pemalar. Rangka kerja seperti <a href="https://vuejs.org/">Vue.js</a> atau <a href="https://reactjs.org/">React</a> dapat membantu anda menguruskan pemusatan kod anda dengan lebih baik.</p>
</blockquote>
<p>Luangkan masa sebentar untuk menonton video menggunakan <code>const</code>,<code>let</code> dan <code>var</code></p>
<p><a href="https://youtube.com/watch?v=JNIXfGiDWM8" title="Jenis pemboleh ubah"><img src="https://img.youtube.com/vi/JNIXfGiDWM8/0.jpg" alt="Jenis pemboleh ubah" /></a></p>
<blockquote>
<p>Klik gambar di atas untuk video mengenai pemboleh ubah.</p>
</blockquote>
<h3 id="tambahkan-logik">Tambahkan Logik</h3>
<p>Untuk memulakan permainan, pemain akan mengklik pada permulaan. Sudah tentu, kita tidak tahu kapan mereka akan mula klik. Di sinilah seorang <a href="https://developer.mozilla.org/docs/Web/API/EventTarget/addEventListener">pendengar acara</a> mula bermain. Pendengar acara akan membolehkan kita mendengar sesuatu yang berlaku (suatu peristiwa) dan melaksanakan kod sebagai tindak balas. Dalam kes kami, kami ingin melaksanakan kod ketika pengguna mengklik pada permulaan.</p>
<p>Apabila pengguna mengklik <strong>start</strong>, kita harus memilih sebut harga, menyiapkan antarmuka pengguna, dan penyiapan pelacakan untuk kata dan waktu semasa. Berikut adalah JavaScript yang perlu anda tambahkan; kita membincangkannya selepas blok skrip.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb6-1" title="1"><span class="co">// pada akhir script.js</span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&#39;start&#39;</span>).<span class="at">addEventListener</span>(<span class="st">&#39;click&#39;</span><span class="op">,</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb6-3" title="3">  <span class="co">// dapatkan quote</span></a>
<a class="sourceLine" id="cb6-4" title="4">  <span class="kw">const</span> quoteIndex <span class="op">=</span> <span class="va">Math</span>.<span class="at">floor</span>(<span class="va">Math</span>.<span class="at">random</span>() <span class="op">*</span> <span class="va">quotes</span>.<span class="at">length</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb6-5" title="5">  <span class="kw">const</span> quote <span class="op">=</span> quotes[quoteIndex]<span class="op">;</span></a>
<a class="sourceLine" id="cb6-6" title="6">  <span class="co">// Masukkan petikan ke dalam susunan kata</span></a>
<a class="sourceLine" id="cb6-7" title="7">  words <span class="op">=</span> <span class="va">quote</span>.<span class="at">split</span>(<span class="st">&#39; &#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb6-8" title="8">  <span class="co">// tetapkan semula indeks kata untuk penjejakan</span></a>
<a class="sourceLine" id="cb6-9" title="9">  wordIndex <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb6-10" title="10"></a>
<a class="sourceLine" id="cb6-11" title="11">  <span class="co">// Kemas kini UI</span></a>
<a class="sourceLine" id="cb6-12" title="12">  <span class="co">// Buat susunan elemen span supaya kita dapat mengatur kelas</span></a>
<a class="sourceLine" id="cb6-13" title="13">  <span class="kw">const</span> spanWords <span class="op">=</span> <span class="va">words</span>.<span class="at">map</span>(<span class="kw">function</span>(word) <span class="op">{</span> <span class="cf">return</span> <span class="vs">`&lt;span&gt;</span><span class="sc">${</span>word<span class="sc">}</span><span class="vs"> &lt;/span&gt;`</span><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb6-14" title="14">  <span class="co">// Tukar menjadi rentetan dan tetapkan sebagai innerHTML pada paparan petikan</span></a>
<a class="sourceLine" id="cb6-15" title="15">  <span class="va">quoteElement</span>.<span class="at">innerHTML</span> <span class="op">=</span> <span class="va">spanWords</span>.<span class="at">join</span>(<span class="st">&#39;&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb6-16" title="16">  <span class="co">// Serlahkan perkataan pertama</span></a>
<a class="sourceLine" id="cb6-17" title="17">  <span class="va">quoteElement</span>.<span class="at">childNodes</span>[<span class="dv">0</span>].<span class="at">className</span> <span class="op">=</span> <span class="st">&#39;highlight&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb6-18" title="18">  <span class="co">// Kosongkan sebarang mesej sebelumnya</span></a>
<a class="sourceLine" id="cb6-19" title="19">  <span class="va">messageElement</span>.<span class="at">innerText</span> <span class="op">=</span> <span class="st">&#39;&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb6-20" title="20"></a>
<a class="sourceLine" id="cb6-21" title="21">  <span class="co">// Sediakan kotak teks</span></a>
<a class="sourceLine" id="cb6-22" title="22">  <span class="co">// Kosongkan kotak teks</span></a>
<a class="sourceLine" id="cb6-23" title="23">  <span class="va">typedValueElement</span>.<span class="at">value</span> <span class="op">=</span> <span class="st">&#39;&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb6-24" title="24">  <span class="co">// Sediakan fokus</span></a>
<a class="sourceLine" id="cb6-25" title="25">  <span class="va">typedValueElement</span>.<span class="at">focus</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb6-26" title="26">  <span class="co">// tetapkan pengendali acara</span></a>
<a class="sourceLine" id="cb6-27" title="27"></a>
<a class="sourceLine" id="cb6-28" title="28">  <span class="co">// Mulakan pemasa</span></a>
<a class="sourceLine" id="cb6-29" title="29">  startTime <span class="op">=</span> <span class="kw">new</span> <span class="at">Date</span>().<span class="at">getTime</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb6-30" title="30"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>Mari pecahkan kodnya!</p>
<ul>
<li>Siapkan penjejakan perkataan
<ul>
<li>Menggunakan <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Math/floor">Math.floor</a> dan <a href="https://developer.mozilla.org/docs%20/%20Web%20/%20JavaScript%20/%20Rujukan%20/%20Global_Objects%20/%20Matematik%20/%20rawak">Math.random</a> membolehkan kita memilih petikan secara rawak dari array <code>quotes</code></li>
<li>Kami menukar <code>quote 'menjadi array</code> kata` sehingga kami dapat mengesan perkataan yang sedang ditaip pemain</li>
<li><code>wordIndex</code> ditetapkan ke 0, kerana pemain akan bermula pada kata pertama</li>
</ul></li>
<li>Sediakan UI
<ul>
<li>Buat array <code>spanWords</code>, yang berisi setiap kata di dalam elemen<code>span</code>
<ul>
<li>Ini akan membolehkan kita menonjolkan perkataan di paparan</li>
</ul></li>
<li><code>join</code> array untuk membuat rentetan yang dapat kita gunakan untuk mengemas kini<code>innerHTML</code> pada <code>quoteElement</code>
<ul>
<li>Ini akan memaparkan petikan kepada pemain</li>
</ul></li>
<li>Tetapkan <code>className</code> elemen<code>span</code> pertama ke highlight untuk menyerlahkannya sebagai kuning</li>
<li>Bersihkan <code>messageElement</code> dengan menetapkan ‚ÄúinnerText‚Äù ke <code>''</code></li>
</ul></li>
<li>Sediakan kotak teks
<ul>
<li>Kosongkan <code>nilai</code> semasa di<code>typedValueElement</code></li>
<li>Tetapkan <code>fokus</code> ke<code>typedValueElement</code></li>
</ul></li>
<li>Mulakan pemasa dengan memanggil <code>getTime</code></li>
</ul>
<h3 id="tambahkan-logik-menaip">Tambahkan logik menaip</h3>
<p>Semasa pemain menaip, acara <code>input</code> akan dinaikkan. Pendengar acara ini akan memeriksa untuk memastikan pemain menaip perkataan dengan betul, dan mengendalikan status permainan semasa. Kembali ke <strong>script.js</strong>, tambahkan kod berikut hingga akhir. Kami akan memecahkannya selepas itu.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" title="1"><span class="co">// pada akhir skrip.js</span></a>
<a class="sourceLine" id="cb7-2" title="2"><span class="va">typedValueElement</span>.<span class="at">addEventListener</span>(<span class="st">&#39;input&#39;</span><span class="op">,</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb7-3" title="3">  <span class="co">// Dapatkan perkataan semasa</span></a>
<a class="sourceLine" id="cb7-4" title="4">  <span class="kw">const</span> currentWord <span class="op">=</span> words[wordIndex]<span class="op">;</span></a>
<a class="sourceLine" id="cb7-5" title="5">  <span class="co">// dapatkan nilai semasa</span></a>
<a class="sourceLine" id="cb7-6" title="6">  <span class="kw">const</span> typedValue <span class="op">=</span> <span class="va">typedValueElement</span>.<span class="at">value</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-7" title="7"></a>
<a class="sourceLine" id="cb7-8" title="8">  <span class="cf">if</span> (typedValue <span class="op">===</span> currentWord <span class="op">&amp;&amp;</span> wordIndex <span class="op">===</span> <span class="va">words</span>.<span class="at">length</span> <span class="op">-</span> <span class="dv">1</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb7-9" title="9">    <span class="co">// akhir ayat</span></a>
<a class="sourceLine" id="cb7-10" title="10">    <span class="co">// Paparkan kejayaan</span></a>
<a class="sourceLine" id="cb7-11" title="11">    <span class="kw">const</span> elapsedTime <span class="op">=</span> <span class="kw">new</span> <span class="at">Date</span>().<span class="at">getTime</span>() <span class="op">-</span> startTime<span class="op">;</span></a>
<a class="sourceLine" id="cb7-12" title="12">    <span class="kw">const</span> message <span class="op">=</span> <span class="vs">`CONGRATULATIONS! You finished in </span><span class="sc">${</span>elapsedTime / <span class="dv">1000</span><span class="sc">}</span><span class="vs"> seconds.`</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-13" title="13">    <span class="va">messageElement</span>.<span class="at">innerText</span> <span class="op">=</span> message<span class="op">;</span></a>
<a class="sourceLine" id="cb7-14" title="14">  <span class="op">}</span> <span class="cf">else</span> <span class="cf">if</span> (<span class="va">typedValue</span>.<span class="at">endsWith</span>(<span class="st">&#39; &#39;</span>) <span class="op">&amp;&amp;</span> <span class="va">typedValue</span>.<span class="at">trim</span>() <span class="op">===</span> currentWord) <span class="op">{</span></a>
<a class="sourceLine" id="cb7-15" title="15">    <span class="co">// akhir kata</span></a>
<a class="sourceLine" id="cb7-16" title="16">    <span class="co">// kosongkan typedValueElement untuk perkataan baru</span></a>
<a class="sourceLine" id="cb7-17" title="17">    <span class="va">typedValueElement</span>.<span class="at">value</span> <span class="op">=</span> <span class="st">&#39;&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-18" title="18">    <span class="co">// beralih ke perkataan seterusnya</span></a>
<a class="sourceLine" id="cb7-19" title="19">    wordIndex<span class="op">++;</span></a>
<a class="sourceLine" id="cb7-20" title="20">    <span class="co">// tetapkan semula nama kelas untuk semua elemen dalam petikan</span></a>
<a class="sourceLine" id="cb7-21" title="21">    <span class="cf">for</span> (<span class="kw">const</span> wordElement <span class="kw">of</span> <span class="va">quoteElement</span>.<span class="at">childNodes</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb7-22" title="22">      <span class="va">wordElement</span>.<span class="at">className</span> <span class="op">=</span> <span class="st">&#39;&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-23" title="23">    <span class="op">}</span></a>
<a class="sourceLine" id="cb7-24" title="24">    <span class="co">// serlahkan perkataan baru</span></a>
<a class="sourceLine" id="cb7-25" title="25">    <span class="va">quoteElement</span>.<span class="at">childNodes</span>[wordIndex].<span class="at">className</span> <span class="op">=</span> <span class="st">&#39;highlight&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-26" title="26">  <span class="op">}</span> <span class="cf">else</span> <span class="cf">if</span> (<span class="va">currentWord</span>.<span class="at">startsWith</span>(typedValue)) <span class="op">{</span></a>
<a class="sourceLine" id="cb7-27" title="27">    <span class="co">// betul sekarang</span></a>
<a class="sourceLine" id="cb7-28" title="28">    <span class="co">// serlahkan perkataan seterusnya</span></a>
<a class="sourceLine" id="cb7-29" title="29">    <span class="va">typedValueElement</span>.<span class="at">className</span> <span class="op">=</span> <span class="st">&#39;&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-30" title="30">  <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb7-31" title="31">    <span class="co">// keadaan ralat</span></a>
<a class="sourceLine" id="cb7-32" title="32">    <span class="va">typedValueElement</span>.<span class="at">className</span> <span class="op">=</span> <span class="st">&#39;error&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-33" title="33">  <span class="op">}</span></a>
<a class="sourceLine" id="cb7-34" title="34"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>Mari pecahkan kodnya! Kami mulakan dengan merebut perkataan semasa dan nilai yang ditaip pemain sejauh ini. Kemudian kita mempunyai logik air terjun, di mana kita memeriksa apakah petikannya lengkap, kata itu lengkap, kata itu betul, atau (akhirnya), jika ada kesalahan.</p>
<ul>
<li>Kutipan selesai, ditunjukkan oleh <code>typedValue</code> sama dengan<code>currentWord</code>, dan <code>wordIndex</code> sama dengan satu yang kurang dari<code>panjang 'kata-kata</code>
<ul>
<li>Hitung <code>elapsedTime</code> dengan mengurangkan<code>startTime</code> dari waktu semasa</li>
<li>Bahagikan <code>elapsedTime</code> dengan 1,000 untuk menukar dari milisaat hingga saat</li>
<li>Paparkan mesej kejayaan</li>
</ul></li>
<li>Kata lengkap, ditunjukkan oleh <code>typedValue</code> yang diakhiri dengan spasi (akhir kata) dan<code>typedValue</code> sama dengan <code>currentWord</code>
<ul>
<li>Tetapkan ‚Äúnilai‚Äù pada ‚ÄútypedElement‚Äù menjadi "" untuk membolehkan kata berikutnya ditaip</li>
<li>Kenaikan <code>wordIndex</code> untuk beralih ke kata seterusnya</li>
<li>Gelung semua ‚ÄúchildNodes‚Äù ‚ÄúquoteElement‚Äù untuk menetapkan ‚ÄúclassName‚Äù ke "" untuk kembali ke paparan lalai</li>
<li>Tetapkan <code>className</code> dari kata semasa ke` highlight ‚Äôuntuk menandakannya sebagai kata seterusnya untuk menaip</li>
</ul></li>
<li>Word saat ini ditaip dengan betul (tetapi tidak lengkap), ditunjukkan oleh <code>currentWord</code> yang dimulakan dengan<code>typedValue</code>
<ul>
<li>Pastikan <code>typedValueElement</code> dipaparkan sebagai lalai dengan membersihkan<code>className</code></li>
</ul></li>
<li>Sekiranya kita berjaya sejauh ini, kita mempunyai ralat
<ul>
<li>Tetapkan <code>className</code> pada<code>typedValueElement</code> ke <code>error</code></li>
</ul></li>
</ul>
<h2 id="uji-aplikasi-anda">Uji aplikasi anda</h2>
<p>Anda berjaya sampai akhir! Langkah terakhir adalah memastikan aplikasi kita berfungsi. Cubalah! Jangan risau sekiranya terdapat kesilapan; <strong>semua pembangun</strong> mempunyai kesilapan. Teliti mesej dan debug mengikut keperluan.</p>
<p>Klik <strong>start</strong>, dan mula menaip! Ia semestinya kelihatan seperti animasi yang kita lihat sebelumnya.</p>
<figure>
<img src="/4-typing-game/images/demo.gif" alt="Animasi permainan beraksi" /><figcaption>Animasi permainan beraksi</figcaption>
</figure>
<hr />
<h2 id="cabaran">üöÄ Cabaran</h2>
<p>Tambahkan lebih banyak fungsi</p>
<ul>
<li>Lumpuhkan pendengar acara <code>input</code> setelah selesai, dan aktifkan semula apabila butang diklik</li>
<li>Lumpuhkan kotak teks semasa pemain menyelesaikan petikan</li>
<li>Paparkan kotak dialog mod dengan mesej kejayaan</li>
<li>Simpan skor tinggi menggunakan <a href="https://developer.mozilla.org/docs/Web/API/Window/localStorage">localStorage</a></li>
</ul>
<h2 id="kuiz-pasca-kuliah">Kuiz Pasca Kuliah</h2>
<p><a href="https://nice-beach-0fe9e9d0f.azurestaticapps.net/quiz/22">Kuiz Pasca Kuliah</a></p>
<h2 id="mengkaji-belajar-sendiri">Mengkaji &amp; Belajar Sendiri</h2>
<p>Bacalah <a href="https://developer.mozilla.org/docs/Web/Events">semua acara yang ada</a> kepada pembangun melalui penyemak imbas web, dan pertimbangkan senario di mana anda akan menggunakannya.</p>
<h2 id="tugasan">Tugasan</h2>
<p><a href="assignment.ms.md">Buat permainan papan kekunci baru</a></p>
</body>
</html>
