<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README.ko</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h1 id="ë¸Œë¼ìš°ì €-í™•ì¥-í”„ë¡œì íŠ¸-íŒŒíŠ¸-3-ë°±ê·¸ë¼ìš´ë“œ-ì‘ì—…ê³¼-ì„±ëŠ¥-í•™ìŠµ">ë¸Œë¼ìš°ì € í™•ì¥ í”„ë¡œì íŠ¸ íŒŒíŠ¸ 3: ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…ê³¼ ì„±ëŠ¥ í•™ìŠµ</h1>
<h2 id="ê°•ì˜-ì „-í€´ì¦ˆ">ê°•ì˜ ì „ í€´ì¦ˆ</h2>
<p><a href="https://nice-beach-0fe9e9d0f.azurestaticapps.net/quiz/27?loc=ko">Pre-lecture quiz</a></p>
<h3 id="ì†Œê°œ">ì†Œê°œ</h3>
<p>ì´ ëª¨ë“ˆì˜ ë§ˆì§€ë§‰ ë‘ ê°•ì˜ì—ì„œëŠ”, APIì—ì„œ ê°€ì ¸ì˜¨ ë°ì´í„°ì— ëŒ€í•œ í¼ê³¼ ì¶œë ¥ ì˜ì—­ì„ ë§Œë“œëŠ” ë°©ë²•ì„ ë°°ì› ìŠµë‹ˆë‹¤. ì›¹ì—ì„œ ì›¹ í”„ë ˆì¦ŒìŠ¤ë¥¼ ë§Œë“œëŠ” ë§¤ìš° í‘œì¤€ì ì¸ ë°©ë²•ì…ë‹ˆë‹¤. ë¹„ë™ê¸°ë¡œ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì„œ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ë„ ë°°ì› ìŠµë‹ˆë‹¤. ë¸Œë¼ìš°ì € í™•ì¥ì´ ê±°ì˜ ì™„ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
<p>í™•ì¥ì˜ ì•„ì´ì½˜ ìƒ‰ìƒì„ ìƒˆë¡œ ê³ ì¹˜ëŠ” ê²ƒë¶€í„° í¬í•¨í•˜ì—¬, ì¼ë¶€ ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…ì„ ê´€ë¦¬í•˜ëŠ” ê²ƒë„ ë‚¨ì•„ìˆìœ¼ë¯€ë¡œ, ë¸Œë¼ìš°ì €ê°€ ì´ëŸ¬í•œ ì¢…ë¥˜ì˜ ì‘ì—…ì„ ê´€ë¦¬í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì´ì•¼ê¸°í•´ ë³¼ ìˆ˜ ìˆëŠ” ì‹œê°„ì…ë‹ˆë‹¤. ì›¹ ì–´ì…‹ì„ êµ¬ì¶•í•˜ë©° ì„±ëŠ¥ê³¼ ê´€ë ¨í•œ ë¸Œë¼ìš°ì € ì‘ì—…ì— ëŒ€í•´ ìƒê°í•©ì‹œë‹¤.</p>
<h2 id="ì›¹-ì„±ëŠ¥-ê¸°ì´ˆ">ì›¹ ì„±ëŠ¥ ê¸°ì´ˆ</h2>
<blockquote>
<p>â€œWebsite performance is about two things: how fast the page loads, and how fast the code on it runs.â€ â€“ <a href="https://www.smashingmagazine.com/2012/06/javascript-profiling-chrome-developer-tools/">Zack Grossbart</a></p>
</blockquote>
<p>ëª¨ë“  ì¢…ë¥˜ì˜ ì‚¬ìš©ìì™€ ìƒí™©ì—ì„œì˜ ëª¨ë“  ì¥ì¹˜ì—ì„œ, ì›¹ ì‚¬ì´íŠ¸ë¥¼ ë§¤ìš° ë¹ ë¥´ê²Œ ì‘ë™í•˜ë„ë¡ ë§Œë“œëŠ” ë°©ë²•ì€ ë†€ëì§€ ì•Šì„ ì •ë„ë¡œ ë§ìŠµë‹ˆë‹¤. í‘œì¤€ ì›¹ í”„ë¡œì íŠ¸ í˜¹ì€ ë¸Œë¼ìš°ì € í™•ì¥ì„ ë§Œë“¤ ë•Œ ì•Œì•„ë‘ì–´ì•¼ í•  ëª‡ ê°€ì§€ ì‚¬í•­ì´ ìˆìŠµë‹ˆë‹¤.</p>
<p>ì‚¬ì´íŠ¸ê°€ íš¨ìœ¨ì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ ê°€ì¥ ë¨¼ì € í•  ì¼ì€ ì„±ëŠ¥ ë°ì´í„°ë¥¼ ëª¨ìœ¼ëŠ” ê²ƒì…ë‹ˆë‹¤. ì²« ë²ˆì§¸ ì¥ì†ŒëŠ” ì›¹ ë¸Œë¼ìš°ì €ì˜ ê°œë°œì ë„êµ¬ì…ë‹ˆë‹¤. Edgeì—ì„œëŠ”, ë¸Œë¼ìš°ì € ìš°ì¸¡ ìƒë‹¨ì— ì¡´ì¬í•˜ëŠ” ì„¸ ê°œ ì ì„ ì„ íƒí•œ ë‹¤ìŒ, More Tools &gt; Developer Toolsë¡œ ì´ë™í•˜ì—¬ Performance íƒ­ì„ ì—´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>Performance íƒ­ì—ëŠ” Profiling ë„êµ¬ê°€ ìˆìŠµë‹ˆë‹¤. ì›¹ ì‚¬ì´íŠ¸ë¥¼ ì—´ê³  (ì˜ˆë¥¼ ë“¤ì–´, https://www.microsoft.com) â€˜Recordâ€™ ë²„íŠ¼ì„ í´ë¦­í•œ ë’¤ì—, ì‚¬ì´íŠ¸ë¥¼ ìƒˆë¡œ ê³ ì¹©ë‹ˆë‹¤. ì–¸ì œë“  recordingì„ ì¤‘ë‹¨í•˜ë©´, ì‚¬ì´íŠ¸ë¥¼ â€˜scriptâ€™, â€˜renderâ€™, ê·¸ë¦¬ê³  â€˜paintâ€™ í•˜ë ¤ê³  ë§Œë“  ë£¨í‹´ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>
<figure>
<img src=".././images/profiler.png" alt="Edge profiler" /><figcaption>Edge profiler</figcaption>
</figure>
<p>âœ… Edgeì—ì„œ Performance íŒ¨ë„ì—ì„œ <a href="https://docs.microsoft.com/microsoft-edge/devtools-guide/performance?WT.mc_id=academic-13441-cxa">Microsoft Documentation</a>ë¥¼ ë°©ë¬¸í•˜ì„¸ìš”</p>
<blockquote>
<p>Tip: ì›¹ ì‚¬ì´íŠ¸ì˜ ì‹œì‘ ì‹œê°„ì„ ìˆœìˆ˜í•˜ê²Œ ë³´ë ¤ë©´, ë¸Œë¼ìš°ì €ì˜ ìºì‹œë¥¼ ì§€ìš°ì„¸ìš”</p>
</blockquote>
<p>í”„ë¡œí•„ íƒ€ì„ë¼ì¸ì˜ ìš”ì†Œë¥¼ ì„ íƒí•˜ì—¬ í˜ì´ì§€ê°€ ë¶ˆëŸ¬ì§€ëŠ” ë™ì•ˆì— ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ë¥¼ í™•ëŒ€í•©ë‹ˆë‹¤.</p>
<p>í”„ë¡œí•„ íƒ€ì„ë¼ì¸ì˜ ì¼ë¶€ë¥¼ ì„ íƒí•˜ê³  ìš”ì•½ íŒ¨ë„ì„ ë³´ê²Œëœ ë’¤ í˜ì´ì§€ performanceì˜ snapshotì„ ê°€ì ¸ì˜µë‹ˆë‹¤:</p>
<figure>
<img src=".././images/snapshot.png" alt="Edge profiler snapshot" /><figcaption>Edge profiler snapshot</figcaption>
</figure>
<p>ì´ë²¤íŠ¸ ë¡œê·¸ íŒ¨ë„ì„ í™•ì¸í•˜ì—¬ 15ms ì´ìƒ ë„˜ê¸´ ì´ë²¤íŠ¸ê°€ ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤:</p>
<figure>
<img src=".././images/log.png" alt="Edge event log" /><figcaption>Edge event log</figcaption>
</figure>
<p>âœ… í”„ë¡œíŒŒì¼ëŸ¬ì— ëŒ€í•´ ì•Œì•„ë³´ì„¸ìš”! ì´ ì‚¬ì´íŠ¸ì—ì„œ ê°œë°œì ë„êµ¬ë¥¼ ì—´ê³  ë³‘ëª© í˜„ìƒì´ ìˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”. ë¶ˆëŸ¬ì˜¤ëŠ” ì†ë„ê°€ ê°€ì¥ ëŠë¦° ì–´ì…‹ì€ ë¬´ì—‡ì¸ê°€ìš”? ê°€ì¥ ë¹ ë¥¸ê°€ìš”?</p>
<h2 id="í”„ë¡œíŒŒì¼ë§-ì ê²€">í”„ë¡œíŒŒì¼ë§ ì ê²€</h2>
<p>ì¼ë°˜ì ìœ¼ë¡œ ëª¨ë“  ì›¹ ê°œë°œìê°€ ì‚¬ì´íŠ¸ë¥¼ ë§Œë“¤ ë•ŒëŠ” ì£¼ì˜í•´ì•¼ í•˜ëŠ” ëª‡ ê°€ì§€ â€œproblem areasâ€ê°€ ìˆìŠµë‹ˆë‹¤, ë”°ë¼ì„œ í”„ë¡œë•ì…˜ìœ¼ë¡œ ë°°í¬í•  ë•Œ ê¹œì§ ë†€ë¼ëŠ” ê²ƒì„ í”¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p><strong>ì–´ì…‹ í¬ê¸°</strong>: ì›¹ì€ ì§€ë‚œ ëª‡ ë…„ ë™ì•ˆ â€™ë¬´ê±°ì›Œâ€™ì§€ê³  ëŠë ¤ì¡ŒìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ ë¬´ê±°ì›Œì§€ëŠ” ì¼ë¶€ ì›ì¸ì€ ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒê³¼ ê´€ë ¨ì´ ìˆìŠµë‹ˆë‹¤.</p>
<p>âœ… í˜ì´ì§€ ë¬´ê²Œ ë“±ì˜ ì—­ì‚¬ì  ê´€ì ì„ ë³´ë ¤ë©´ <a href="https://httparchive.org/reports/page-weight">Internet Archive</a> ë¥¼ ì‚´í´ë³´ì„¸ìš”.</p>
<p>ì´ë¯¸ì§€ê°€ ìµœì í™”ë˜ì–´ ì‚¬ìš©ìì—ê²Œ ì ë‹¹í•œ í¬ê¸°ì™€ í•´ìƒë„ë¡œ ì œê³µí•˜ê³  ìˆëŠ”ì§€, í™•ì¸í•´ë³´ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.</p>
<p><strong>DOM ìˆœíšŒ</strong>: ë¸Œë¼ìš°ì €ëŠ” ì‘ì„±í•œ ì½”ë“œë¥¼ ê¸°ë°˜ìœ¼ë¡œ Document Object Modelì„ ì‘ì„±í•˜ë¯€ë¡œ, í˜ì´ì§€ì— í•„ìš”í•œ ê²ƒë§Œ ì‚¬ìš©í•˜ë©° ìŠ¤íƒ€ì¼ì„ ì§€ì •í•˜ê³ , íƒœê·¸ë„ ì ê²Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ì€ í˜ì´ì§€ ì„±ëŠ¥ì„ ìœ„í•´ í•„ìš”í•©ë‹ˆë‹¤. ì´ ì‹œì ì—ì„œ, í˜ì´ì§€ì™€ ê´€ë ¨ë˜ì–´ ë§ì€ CSSë¥¼ ìµœì í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤: ì˜ˆë¥¼ ë“¤ë©´, í•œ í˜ì´ì§€ì—ì„œë§Œ ì‚¬ìš©í•  ìŠ¤íƒ€ì¼ì€ main style sheetì— í¬í•¨í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
<p><strong>JavaScript</strong>: ëª¨ë“  JavaScript ê°œë°œìëŠ” ë‚˜ë¨¸ì§€ DOMì„ íƒìƒ‰í•˜ëŠ” ê³¼ì •ì„ ë¸Œë¼ìš°ì €ì— ê·¸ë¦¬ê¸° ì „ì— ë¶ˆëŸ¬ì™€ì•¼ í•œë‹¤ë©´ â€˜render-blockingâ€™ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë´ì•¼ í•©ë‹ˆë‹¤. inline ìŠ¤í¬ë¦½íŠ¸ì™€ (Terrarium ëª¨ë“ˆì—ì„œ í•œ ê²ƒì²˜ëŸ¼) <code>defer</code> ì‚¬ìš©ì„ ê³ ë ¤í•´ë³´ì„¸ìš”.</p>
<p>âœ… <a href="https://www.webpagetest.org/">Site Speed Test website</a>ì—ì„œ ì¼ë¶€ ì‚¬ì´íŠ¸ë¥¼ ì‹œë„í•´ë³´ê³  ì‚¬ì´íŠ¸ ì„±ëŠ¥ì„ ê²°ì •í•˜ê¸° ìœ„í•´ ìˆ˜í–‰ë˜ëŠ” ì¼ë°˜ì ì¸ í™•ì¸ ì‚¬í•­ì— ëŒ€í•´ ì•Œì•„ë³´ì„¸ìš”.</p>
<p>ì´ì œ ë¸Œë¼ìš°ì €ê°€ ì „ì†¡í•œ ì–´ì…‹ì„ ë Œë”ë§í•˜ëŠ” ë°©ë²•ì— ëŒ€í•œ ì•„ì´ë””ì–´ë¥¼ ì–»ì—ˆìœ¼ë¯€ë¡œ, í™•ì¥ì„ ì™„ë£Œí•˜ê³ ì í•˜ëŠ” ë§ˆì§€ë§‰ ëª‡ ì‘ì—…ì„ ë´…ì‹œë‹¤:</p>
<h3 id="ìƒ‰ìƒ-ê³„ì‚°í•˜ëŠ”-í•¨ìˆ˜-ìƒì„±í•˜ê¸°">ìƒ‰ìƒ ê³„ì‚°í•˜ëŠ” í•¨ìˆ˜ ìƒì„±í•˜ê¸°</h3>
<p><code>/src/index.js</code>ì—ì„œ ì‘ì—…í•˜ë©´ì„œ, DOMì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ ì„¤ì •í•œ <code>const</code> ë³€ìˆ˜ ë’¤ì— <code>calculateColor()</code>ë¼ëŠ” í•¨ìˆ˜ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">function</span> <span class="at">calculateColor</span>(value) <span class="op">{</span></a>
<a class="sourceLine" id="cb1-2" title="2">    <span class="kw">let</span> co2Scale <span class="op">=</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">150</span><span class="op">,</span> <span class="dv">600</span><span class="op">,</span> <span class="dv">750</span><span class="op">,</span> <span class="dv">800</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb1-3" title="3">    <span class="kw">let</span> colors <span class="op">=</span> [<span class="st">&#39;#2AA364&#39;</span><span class="op">,</span> <span class="st">&#39;#F5EB4D&#39;</span><span class="op">,</span> <span class="st">&#39;#9E4229&#39;</span><span class="op">,</span> <span class="st">&#39;#381D02&#39;</span><span class="op">,</span> <span class="st">&#39;#381D02&#39;</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb1-4" title="4"></a>
<a class="sourceLine" id="cb1-5" title="5">    <span class="kw">let</span> closestNum <span class="op">=</span> <span class="va">co2Scale</span>.<span class="at">sort</span>((a<span class="op">,</span> b) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-6" title="6">        <span class="cf">return</span> <span class="va">Math</span>.<span class="at">abs</span>(a <span class="op">-</span> value) <span class="op">-</span> <span class="va">Math</span>.<span class="at">abs</span>(b <span class="op">-</span> value)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-7" title="7">    <span class="op">}</span>)[<span class="dv">0</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb1-8" title="8">    <span class="va">console</span>.<span class="at">log</span>(value <span class="op">+</span> <span class="st">&#39; is closest to &#39;</span> <span class="op">+</span> closestNum)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-9" title="9">    <span class="kw">let</span> num <span class="op">=</span> (element) <span class="kw">=&gt;</span> element <span class="op">&gt;</span> closestNum<span class="op">;</span></a>
<a class="sourceLine" id="cb1-10" title="10">    <span class="kw">let</span> scaleIndex <span class="op">=</span> <span class="va">co2Scale</span>.<span class="at">findIndex</span>(num)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-11" title="11"></a>
<a class="sourceLine" id="cb1-12" title="12">    <span class="kw">let</span> closestColor <span class="op">=</span> colors[scaleIndex]<span class="op">;</span></a>
<a class="sourceLine" id="cb1-13" title="13">    <span class="va">console</span>.<span class="at">log</span>(scaleIndex<span class="op">,</span> closestColor)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-14" title="14"></a>
<a class="sourceLine" id="cb1-15" title="15">    <span class="va">chrome</span>.<span class="va">runtime</span>.<span class="at">sendMessage</span>(<span class="op">{</span> <span class="dt">action</span><span class="op">:</span> <span class="st">&#39;updateIcon&#39;</span><span class="op">,</span> <span class="dt">value</span><span class="op">:</span> <span class="op">{</span> <span class="dt">color</span><span class="op">:</span> closestColor <span class="op">}</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-16" title="16"><span class="op">}</span></a></code></pre></div>
<p>ì—¬ê¸°ì— ì–´ë–¤ ì¼ì´ ì¼ì–´ë‚˜ê³  ìˆë‚˜ìš”? ì§€ë‚œ ê°•ì˜ì—ì„œ ì™„ë£Œí•œ API í˜¸ì¶œì—ì„œ ê°’(íƒ„ì†Œ ê°•ë„)ì„ ì „ë‹¬í•œ ë‹¤ìŒì—, ê°’ì´ colors ë°°ì—´ì— í‘œì‹œëœ ì¸ë±ìŠ¤ì—ì„œ ì–¼ë§ˆë‚˜ ê°€ê¹Œìš´ ì§€ ê³„ì‚°í•©ë‹ˆë‹¤. ê·¸ëŸ¬ê³  ê°€ì¥ ê°€ê¹Œìš´ ìƒ‰ìƒ ê°’ì„ chrome ëŸ°íƒ€ì„ìœ¼ë¡œ ë³´ëƒ…ë‹ˆë‹¤.</p>
<p>hrome.runtimeì€ <a href="https://developer.chrome.com/extensions/runtime">API</a>ëŠ” ëª¨ë“  ì¢…ë¥˜ì˜ ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…ì„ ì œì–´í•˜ë©°, í™•ì¥ì€ ë‹¤ìŒì„ í™œìš©í•©ë‹ˆë‹¤:</p>
<blockquote>
<p>â€œUse the chrome.runtime API to retrieve the background page, return details about the manifest, and listen for and respond to events in the app or extension lifecycle. You can also use this API to convert the relative path of URLs to fully-qualified URLs.â€</p>
</blockquote>
<p>âœ… Edge ìš© ë¸Œë¼ìš°ì € í™•ì¥ì„ ê°œë°œí•˜ê³  ìˆë‹¤ë©´, chrome APIë¥¼ ì‚¬ìš©í•˜ê³  ìˆë‹¤ëŠ” ì ì— ë†€ë„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìµœì‹  Edge ë¸Œë¼ìš°ì € ë²„ì „ì€ Chromium ë¸Œë¼ìš°ì € ì—”ì§„ì—ì„œ ì‹¤í–‰ë˜ë¯€ë¡œ, ì´ ë„êµ¬ë¥¼ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<blockquote>
<p>ì°¸ê³ ë¡œ ë¸Œë¼ìš°ì € í™•ì¥ì„ í”„ë¡œíŒŒì¼ë§í•˜ë ¤ë©´, ì´ëŠ” ë¶„ë¦¬ëœ ë¸Œë¼ìš°ì € ì¸ìŠ¤í„´ìŠ¤ì´ë¯€ë¡œ í™•ì¥ ìì²´ì ìœ¼ë¡œ dev toolsë¥¼ ì‹œì‘í•©ë‹ˆë‹¤.</p>
</blockquote>
<h3 id="ê¸°ë³¸-ì•„ì´ì½˜-ìƒ‰ìƒ-ì§€ì •í•˜ê¸°">ê¸°ë³¸ ì•„ì´ì½˜ ìƒ‰ìƒ ì§€ì •í•˜ê¸°</h3>
<p>ì´ì œ, <code>init()</code> í•¨ìˆ˜ì—ì„œ, chromeì˜ <code>updateIcon</code> ì•¡ì…˜ì„ ë‹¤ì‹œ í˜¸ì¶œí•˜ì—¬ ì‹œì‘í•  ë•Œì˜ ì•„ì´ì½˜ì„ í‰ë²”í•œ ë…¹ìƒ‰ìœ¼ë¡œ ì„¤ì •í•©ë‹ˆë‹¤:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="va">chrome</span>.<span class="va">runtime</span>.<span class="at">sendMessage</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb2-2" title="2">    <span class="dt">action</span><span class="op">:</span> <span class="st">&#39;updateIcon&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-3" title="3">        <span class="dt">value</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-4" title="4">            <span class="dt">color</span><span class="op">:</span> <span class="st">&#39;green&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-5" title="5">        <span class="op">},</span></a>
<a class="sourceLine" id="cb2-6" title="6"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<h3 id="í•¨ìˆ˜-í˜¸ì¶œí•˜ê³ -call-ì‹¤í–‰í•˜ê¸°">í•¨ìˆ˜ í˜¸ì¶œí•˜ê³ , call ì‹¤í–‰í•˜ê¸°</h3>
<p>ë‹¤ìŒ, ë°©ê¸ˆ ì „ì— ë§Œë“  í•¨ìˆ˜ë¥¼ C02Signal APIê°€ ë°˜í™˜í•œ promiseì— ì¶”ê°€í•˜ì—¬ í˜¸ì¶œí•©ë‹ˆë‹¤:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="co">//let CO2...</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="at">calculateColor</span>(CO2)<span class="op">;</span></a></code></pre></div>
<p>ê·¸ë¦¬ê³  ë§ˆì§€ë§‰ìœ¼ë¡œ, <code>/dist/background.js</code> ì—ì„œ, ë°±ê·¸ë¼ìš´ë“œ ì—‘ì…˜ í˜¸ì¶œí•˜ëŠ” ë¦¬ìŠ¤ë„ˆë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="va">chrome</span>.<span class="va">runtime</span>.<span class="va">onMessage</span>.<span class="at">addListener</span>(<span class="kw">function</span> (msg<span class="op">,</span> sender<span class="op">,</span> sendResponse) <span class="op">{</span></a>
<a class="sourceLine" id="cb4-2" title="2">    <span class="cf">if</span> (<span class="va">msg</span>.<span class="at">action</span> <span class="op">===</span> <span class="st">&#39;updateIcon&#39;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb4-3" title="3">        <span class="va">chrome</span>.<span class="va">browserAction</span>.<span class="at">setIcon</span>(<span class="op">{</span> <span class="dt">imageData</span><span class="op">:</span> <span class="at">drawIcon</span>(<span class="va">msg</span>.<span class="at">value</span>) <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-4" title="4">    <span class="op">}</span></a>
<a class="sourceLine" id="cb4-5" title="5"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-6" title="6"><span class="co">//borrowed from energy lollipop extension, nice feature!</span></a>
<a class="sourceLine" id="cb4-7" title="7"><span class="kw">function</span> <span class="at">drawIcon</span>(value) <span class="op">{</span></a>
<a class="sourceLine" id="cb4-8" title="8">    <span class="kw">let</span> canvas <span class="op">=</span> <span class="va">document</span>.<span class="at">createElement</span>(<span class="st">&#39;canvas&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-9" title="9">    <span class="kw">let</span> context <span class="op">=</span> <span class="va">canvas</span>.<span class="at">getContext</span>(<span class="st">&#39;2d&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-10" title="10"></a>
<a class="sourceLine" id="cb4-11" title="11">    <span class="va">context</span>.<span class="at">beginPath</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb4-12" title="12">    <span class="va">context</span>.<span class="at">fillStyle</span> <span class="op">=</span> <span class="va">value</span>.<span class="at">color</span><span class="op">;</span></a>
<a class="sourceLine" id="cb4-13" title="13">    <span class="va">context</span>.<span class="at">arc</span>(<span class="dv">100</span><span class="op">,</span> <span class="dv">100</span><span class="op">,</span> <span class="dv">50</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">2</span> <span class="op">*</span> <span class="va">Math</span>.<span class="at">PI</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-14" title="14">    <span class="va">context</span>.<span class="at">fill</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb4-15" title="15"></a>
<a class="sourceLine" id="cb4-16" title="16">    <span class="cf">return</span> <span class="va">context</span>.<span class="at">getImageData</span>(<span class="dv">50</span><span class="op">,</span> <span class="dv">50</span><span class="op">,</span> <span class="dv">100</span><span class="op">,</span> <span class="dv">100</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-17" title="17"><span class="op">}</span></a></code></pre></div>
<p>ì½”ë“œì—ì„œ, ë°±ì—”ë“œ ì‘ì—… ë§¤ë‹ˆì €ë¡œ ë“¤ì–´ì˜¤ëŠ” ëª¨ë“  ë©”ì‹œì§€ ë¦¬ìŠ¤ë„ˆë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤. â€˜updateIconâ€™ ì´ë¼ê³  ë¶ˆë¦¬ë©´, ë‹¤ìŒ ì½”ë“œê°€ ìˆ˜í–‰ë˜ê³ , Canvas APIë¥¼ ì‚¬ìš©í•´ì„œ ì ì ˆí•œ ìƒ‰ìƒì˜ ì•„ì´ì½˜ì„ ê·¸ë¦½ë‹ˆë‹¤.</p>
<p>âœ… <a href="../../../6-space-game/2-drawing-to-canvas/translations/README.ko.md">Space Game lessons</a>ì—ì„œ Canvas APIì— ëŒ€í•´ ë” ë°°ìš¸ ê²ƒ ì…ë‹ˆë‹¤.</p>
<p>ì´ì œ, í™•ì¥ì„ (<code>npm run build</code>)ë¡œ ë‹¤ì‹œ ë¹Œë“œí•©ë‹ˆë‹¤, í™•ì¥ì„ ìƒˆë¡œ ê³ ì¹˜ê³  ì‹œì‘í•œ ë’¤, ìƒ‰ìƒì´ ë³€í•˜ëŠ” ê²ƒì„ ë´…ë‹ˆë‹¤. ì‹¬ë¶€ë¦„ì„ í•˜ê±°ë‚˜ ì„¤ê±°ì§€ë¥¼ í•˜ê¸°ì— ì¢‹ì„ ë•Œ ì¸ê°€ìš”? ì´ì œ ì••ë‹ˆë‹¤!</p>
<p>ì¶•í•˜í•©ë‹ˆë‹¤, ìœ ìš©í•œ ë¸Œë¼ìš°ì € í™•ì¥ì„ ë§Œë“¤ì—ˆê³  ë¸Œë¼ìš°ì € ì‘ë™ ë°©ì‹ê³¼ ì„±ëŠ¥ í”„ë¡œíŒŒì¼ë§ ë°©ì‹ì— ëŒ€í•´ ë” ë°°ì› ìŠµë‹ˆë‹¤.</p>
<hr />
<h2 id="ë„ì „">ğŸš€ ë„ì „</h2>
<p>ì¼ë¶€ ì˜¤í”ˆì†ŒìŠ¤ ì›¹ ì‚¬ì´íŠ¸ê°€ ì˜›ë‚ ì—ë„ ìˆì—ˆëŠ”ì§€ ì•Œì•„ë³´ê³ , GitHub íˆìŠ¤í† ë¦¬ë¥¼ ë°”íƒ•ìœ¼ë¡œ, ëª‡ ë…„ ë™ì•ˆ ì„±ëŠ¥ì„ ìœ„í•´ ìµœì í™”ë˜ê³  ìˆì—ˆëŠ”ê°€ì— ëŒ€í•´ í™•ì¸í•˜ì„¸ìš”. ê°€ì¥ ì¼ë°˜ì ì¸ ë¬¸ì œì ì€ ë¬´ì—‡ì¼ê¹Œìš”?</p>
<h2 id="ê°•ì˜-í›„-í€´ì¦ˆ">ê°•ì˜ í›„ í€´ì¦ˆ</h2>
<p><a href="https://nice-beach-0fe9e9d0f.azurestaticapps.net/quiz/28?loc=ko">Post-lecture quiz</a></p>
<h2 id="ë¦¬ë·°-ìê¸°ì£¼ë„-í•™ìŠµ">ë¦¬ë·° &amp; ìê¸°ì£¼ë„ í•™ìŠµ</h2>
<p><a href="https://perf.email/">performance newsletter</a> ê°€ì…ì„ ê³ ë ¤í•´ë³´ì„¸ìš”</p>
<p>ì›¹ ë„êµ¬ì˜ performance íƒ­ì„ í†µí•˜ì—¬ ë¸Œë¼ìš°ì €ì—ì„œ ì›¹ ì„±ëŠ¥ì„ ì¸¡ì •í•˜ëŠ” ë°©ì‹ì´ ì–´ë–¤ ê²ƒì¸ì§€ ì•Œì•„ë³´ì„¸ìš”. í° ì°¨ì´ì ì„ ì°¾ì„ ìˆ˜ ìˆë‚˜ìš”?</p>
<h2 id="ê³¼ì œ">ê³¼ì œ</h2>
<p><a href="../assignment.md">Analyze a site for performance</a></p>
</body>
</html>
