<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
</head>
<body>
<h1 id="csstidy">csstidy</h1>
<p>The continuing story of Floele’s project csstidy (C++ version)</p>
<h2 id="based-on">Based on</h2>
<p>This repo is based on the last official csstidy C++ version 1.3 as of 2007-07-10 (file timestamp) / 2007-07-19 (announcement of 1.3) on <a href="http://csstidy.sourceforge.net/changelog.php">csstidy SF homepage</a>.</p>
<h2 id="changes-to-original-code">Changes to original code</h2>
<p>List of example fixes:</p>
<ul>
<li>update to CSS3</li>
<li>do not remove tokens after media selector</li>
<li>remaining comments in selector are also removed</li>
<li>do not remove quotes on font-face subvalue format; chrome/iron ignores it but firefox needs the quotes</li>
</ul>
<p>Improvements:</p>
<ul>
<li>added man page by Kevin Coyner</li>
<li>added option strip_all_comments</li>
<li>Unnecessary dependency SCons was removed</li>
</ul>
<h2 id="requirements">Requirements</h2>
<ul>
<li>make (no SCons anymore)</li>
<li>C++ compiler – g++ or MinGW</li>
</ul>
<h2 id="install">Install</h2>
<pre><code>git clone https://github.com/csstidy-c/csstidy.git
cd csstidy
make
sudo make install</code></pre>
<h2 id="usage">Usage</h2>
<pre><code>csstidy input_filename [
    --allow_html_in_templates=[false|true] |
    --compress_colors=[true|false] |
    --compress_font_weight=[true|false] |
    --discard_invalid_properties=[false|true] |
    --lowercase_s=[false|true] |
    --preserve_css=[false|true] |
    --remove_backslash=[true|false] |
    --remove_last_semicolon=[false|true] |
    --silent=[false|true] |
    --sort_properties=[false|true] |
    --sort_selectors=[false|true] |
    --timestamp=[false|true] |
    --merge_selectors=[2|1|0] |
    --case_properties=[0|1|2] |
    --optimise_shorthands=[1|2|0] |
    --template=[default|filename|low|high|highest] |
    --strip_all_comments=[false|true] |
    output_filename ]*</code></pre>
<p>So to optimise a CSS file and send the output to screen use</p>
<pre><code>csstidy mycssfile.css</code></pre>
<p>If you want to save the output to a file, use</p>
<pre><code>csstidy mycssfile.css myoutputfile.css</code></pre>
<p>If you use the filename “-”, CSSTidy reads from stdin. To change settings, you have to add “–thesettingyouwanttochange=true or false” after the input file. If “true” is first in the syntax description, this indicates that “true” is the default value (the same applies to false). Example:</p>
<pre><code>csstidy mycssfile.css --remove_last_semicolon=true myoutputfile.css</code></pre>
<h2 id="original-description">Original Description</h2>
<h3 id="introduction">Introduction</h3>
<p>CSSTidy is an opensource CSS parser and optimiser. It is available as executeable file (available for Linux, OSX and more) which can be controlled per command line and as PHP script (both with almost the same functionality). In opposite to most other CSS parsers, no regular expressions are used and thus CSSTidy has full CSS2 support and a higher reliability.</p>
<p>Features (“a” stands for all selectors, “margin” stands for all properties):</p>
<ul>
<li>colours like “black” or rgb(0,0,0) are converted to #000000 or rather #000 if possible. Some hex-codes are replaced by their colour names if they are shorter.</li>
<li>a{property:x;property:y;} becomes a{property:y;} (all duplicate properties are merged)</li>
<li>margin:1px 1px 1px 1px; becomes margin:1px;</li>
<li>margin:0px; becomes margin:0;</li>
<li>a{margin-top:10px; margin-bottom:10px; margin-left:10px; margin-right:10px;} becomes a{margin:10px;}</li>
<li>margin:010.0px; becomes margin:10px;</li>
<li>all unnecessary whitespace is removed, depending on the compression-level</li>
<li>all background-properties are merged</li>
<li>all comments are removed</li>
<li>the last semicolon in every block can be removed</li>
<li>missing semicolons are added, incorrect newlines in strings are fixed, missing units are added, bad colors (and color names) are fixed</li>
<li>property:value ! important; becomes property:value !important;</li>
</ul>
<h3 id="why-optimise">Why optimise?</h3>
<p>If you optimise your CSS code you have faster loading pages and lower traffic costs. So both you and your visitors benefit from an optimisation. If you are interested in a faster loading webpage, websiteoptimization.com might also be an interesting resource.</p>
<h3 id="compression-ratio">Compression ratio</h3>
<p>The compression ratio mostly depends on the level of whitespace-removal. Using standard whitespace-removal (which preserves the readability) the compression ratio often is 30% and more. In theory the compression ratio can be 99,99% but only very “stupid” stylesheets will allow those ratios. Also have a look at the examples.</p>
<h3 id="apart-from-compression">Apart from compression</h3>
<p>If a high compression is not important for you, you can also use CSSTidy to format or fix CSS code for a higher browser compatibility. Apart from the 4 default templates you can specify custom templates so that you can easily format a lot of CSS code using your own coding style. Other features are sorting and changing the case of selectors and properties.</p>
</body>
</html>
